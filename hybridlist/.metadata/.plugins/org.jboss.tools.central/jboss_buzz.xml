<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" media="screen" href="/~d/styles/atom10full.xsl"?><?xml-stylesheet type="text/css" media="screen" href="http://feeds.feedburner.com/~d/styles/itemcontent.css"?><feed xmlns="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:feedburner="http://rssnamespace.org/feedburner/ext/1.0"><title>JBoss Tools Aggregated Feed</title><link rel="alternate" href="http://tools.jboss.org" /><subtitle>JBoss Tools Aggregated Feed</subtitle><dc:creator>JBoss Tools</dc:creator><atom10:link xmlns:atom10="http://www.w3.org/2005/Atom" rel="self" type="application/atom+xml" href="http://feeds.feedburner.com/jbossbuzz" /><feedburner:info uri="jbossbuzz" /><atom10:link xmlns:atom10="http://www.w3.org/2005/Atom" rel="hub" href="http://pubsubhubbub.appspot.com/" /><entry><title>Using a custom devfile registry and C++ with Red Hat CodeReady Workspaces</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/RwNaG0b84SE/" /><category term="C++" /><category term="Containers" /><category term="DevOps" /><category term="Kubernetes" /><category term="C++ workspace" /><category term="CodeReady Workspaces" /><category term="custom devfile registry" /><author><name>Mary Cochran</name></author><id>https://developers.redhat.com/blog/?p=858397</id><updated>2021-04-14T07:00:26Z</updated><published>2021-04-14T07:00:26Z</published><content type="html">&lt;p&gt;&lt;a target="_blank" rel="nofollow" href="/products/codeready-workspaces/overview"&gt;Red Hat CodeReady Workspaces&lt;/a&gt; provides teams with predefined workspaces to streamline application development. Out of the box, CodeReady Workspaces supports numerous languages and plugins. However, many organizations want to customize a workspace and make it available to developers across the organization as a standard. In this article, I show you how to use a custom &lt;a target="_blank" rel="nofollow" href="/blog/2019/12/09/codeready-workspaces-devfile-demystified/"&gt;devfile&lt;/a&gt; registry to customize a workspace for C++ development. Once that&amp;#8217;s done, we will deploy an example application using Docker.&lt;/p&gt; &lt;p style="padding-left: 40px;"&gt;&lt;b&gt;Note&lt;/b&gt;: A &lt;em&gt;devfile&lt;/em&gt; dictates which project is in the environment, which tools are available in the terminal, and more. For more information, please refer to the &lt;a target="_blank" rel="nofollow" href="https://access.redhat.com/documentation/en-us/red_hat_codeready_workspaces/2.5/html/administration_guide/customizing-the-registries_crw#running-custom-registries_crw"&gt;CodeReady Workspaces documentation&lt;/a&gt;.&lt;/p&gt; &lt;h2&gt;Setting up the workspace&lt;/h2&gt; &lt;p&gt;To get started with the example in this article, fork the following repository:&lt;/p&gt; &lt;p&gt;&lt;a target="_blank" rel="nofollow" href="https://github.com/redhat-developer/codeready-workspaces"&gt;https://github.com/redhat-developer/codeready-workspaces&lt;/a&gt;&lt;/p&gt; &lt;p&gt;Enter the &lt;code&gt;codeready-workspaces/dependencies/che-devfile-registry/devfiles&lt;/code&gt; directory, which holds the configuration files for each stack or plugin. There are two configuration files for each stack or plugin: &lt;code&gt;devfile.yaml&lt;/code&gt; and &lt;code&gt;meta.yaml&lt;/code&gt;. For the purposes of this example, simply copy the &lt;code&gt;05_cpp&lt;/code&gt; folder to a new folder named &lt;code&gt;05_custom_cpp&lt;/code&gt;. From there, you can edit the files to meet your needs:&lt;/p&gt; &lt;pre&gt;$ cd dependencies/che-devfile-registry/devfiles/ $ cp -r 05_cpp 05_custom_cpp $ cd 05_custom_cpp/ $ ls devfile.yaml meta.yaml&lt;/pre&gt; &lt;p&gt;The &lt;code&gt;meta.yaml&lt;/code&gt; file stays largely the same, but you can edit the display name and description. Here is my &lt;code&gt;meta.yaml&lt;/code&gt;:&lt;/p&gt; &lt;pre&gt;--- displayName: C/C++ Hello description: C and C++ Developer Tools stack with GCC 8.3.1, cmake 3.11.4 and make 4.2.1 tags: ["UBI8", "C", "C++", "clang", "GCC", "g++", "make", "cmake"] icon: /images/type-cpp.svg globalMemoryLimit: 1686Mi &lt;/pre&gt; &lt;p&gt;You will make more updates in the &lt;code&gt;devfile.yaml&lt;/code&gt; file. For this example, we&amp;#8217;ll simply update the project that gets imported to the workspace automatically, like so:&lt;/p&gt; &lt;pre&gt;--- apiVersion: 1.0.0 metadata: generateName: cpp-custom- projects: - name: Hello source: type: git location: 'https://github.com/mmistretta/hello.git' components: &lt;/pre&gt; &lt;p&gt;If you want to change the stack even further, you can update things such as the Docker image, the plugins, and even the commands that developers can run with a click of a button. For example, to install Docker or Podman for use in the stack, edit the Docker image to be a custom one. The Dockerfile for the &lt;code&gt;stacks-cpp-rhel8&lt;/code&gt; used for this stack can be found at the &lt;a target="_blank" rel="nofollow" href="https://catalog.redhat.com/software/containers/codeready-workspaces/stacks-cpp-rhel8/5cd5ee485a13467289f43501?container-tabs=dockerfile"&gt;Red Hat CodeReady Workspaces &amp;#8211; C/C++ Stack web page&lt;/a&gt; and customized from there.&lt;/p&gt; &lt;p&gt;Save your files before proceeding to the next task.&lt;/p&gt; &lt;h2&gt;Building your devfile registry image&lt;/h2&gt; &lt;p&gt;Next, you need to build the registry image. For this example, we will use Docker and the &lt;a target="_blank" rel="nofollow" href="https://www.redhat.com/en/blog/introducing-red-hat-universal-base-image"&gt;Red Hat Universal Base Image&lt;/a&gt; (UBI). From the &lt;code&gt;codeready-workspaces/dependencies/che-devfile-registry&lt;/code&gt; directory, run the following commands to build an image and push it to your registry. Replace the italicized text below with the appropriate values for your environment:&lt;/p&gt; &lt;pre&gt;$ ./build --organization &lt;em&gt;your-org&lt;/em&gt; --registry &lt;em&gt;your_registry&lt;/em&gt; --tag &lt;em&gt;version&lt;/em&gt; --rhel $ docker push &lt;em&gt;your-image&lt;/em&gt; &lt;/pre&gt; &lt;p&gt;To ensure your image is valid, you can test it by running:&lt;/p&gt; &lt;pre&gt;$ docker run &lt;em&gt;your-image&lt;/em&gt; &lt;/pre&gt; &lt;p&gt;Now, you can utilize your custom devfile registry.&lt;/p&gt; &lt;h2&gt;Creating your Che Cluster for CodeReady Workspaces&lt;/h2&gt; &lt;p&gt;Now, make sure the CodeReady Workspaces Operator is installed. As an admin user, search for the Operator in the Red Hat OpensShift OperatorHub, as shown in Figure 1.&lt;/p&gt; &lt;div id="attachment_858437" style="width: 650px" class="wp-caption aligncenter"&gt;&lt;img aria-describedby="caption-attachment-858437" class="wp-image-858437 size-full" src="https://developers.redhat.com/blog/wp-content/uploads/2021/01/Screen-Shot-2021-01-18-at-12.55.04-PM-e1616760775160.png" alt="In the search box provided by the OpenShift OperatorHub, search for the CodeReady Workspaces Operator and select it." width="640" height="446" /&gt;&lt;p id="caption-attachment-858437" class="wp-caption-text"&gt;Figure 1: Find and select the CodeReady Workspaces Operator in the OperatorHub.&lt;/p&gt;&lt;/div&gt; &lt;p&gt;Install the Operator as shown in Figure 2.&lt;/p&gt; &lt;div id="attachment_858457" style="width: 650px" class="wp-caption aligncenter"&gt;&lt;img aria-describedby="caption-attachment-858457" class="wp-image-858457 size-full" src="https://developers.redhat.com/blog/wp-content/uploads/2021/01/Screen-Shot-2021-01-18-at-12.58.00-PM-e1616760961701.png" alt="The dialog to install the CodeReady Workspaces Operator." width="640" height="302" /&gt;&lt;p id="caption-attachment-858457" class="wp-caption-text"&gt;Figure 2: Install the CodeReady Workspaces Operator.&lt;/p&gt;&lt;/div&gt; &lt;p&gt;After installing the Operator, select it. Then, select  &lt;strong&gt;Provided APIs—&amp;#62;CodeReady Workspaces Cluster&lt;/strong&gt; and click the &lt;strong&gt;Create Instance&lt;/strong&gt; link, as shown in Figure 3.&lt;/p&gt; &lt;div id="attachment_858467" style="width: 650px" class="wp-caption aligncenter"&gt;&lt;img aria-describedby="caption-attachment-858467" class="wp-image-858467 size-full" src="https://developers.redhat.com/blog/wp-content/uploads/2021/01/Screen-Shot-2021-01-18-at-12.58.39-PM-e1616766168176.png" alt="From Provided APIs-&amp;#62;CodeReady Workspaces Cluster, click on the Create Instance link to start creating your instance." width="640" height="389" /&gt;&lt;p id="caption-attachment-858467" class="wp-caption-text"&gt;Figure 3: Start creating your instance with the Create Instance link.&lt;/p&gt;&lt;/div&gt; &lt;p&gt;Select &lt;strong&gt;Yaml View&lt;/strong&gt; as the &amp;#8220;&lt;strong&gt;Configure via&lt;/strong&gt;&amp;#8221; option, as shown in Figure 4.&lt;/p&gt; &lt;div id="attachment_858477" style="width: 650px" class="wp-caption aligncenter"&gt;&lt;img aria-describedby="caption-attachment-858477" class="wp-image-858477 size-full" src="https://developers.redhat.com/blog/wp-content/uploads/2021/01/Screen-Shot-2021-01-18-at-1.00.25-PM-e1616766270546.png" alt="The dialog to select YAML View or Form View as the configuration option. The YAML view is selected." width="640" height="279" /&gt;&lt;p id="caption-attachment-858477" class="wp-caption-text"&gt;Figure 4: Select the YAML view as the configuration option.&lt;/p&gt;&lt;/div&gt; &lt;p&gt;Now, edit the YAML file created by this process. Scroll down to the &lt;code&gt;server&lt;/code&gt; section and replace the &lt;code&gt;devfileRegistryImage&lt;/code&gt; entry with your image, as shown here:&lt;/p&gt; &lt;pre&gt;server: pluginRegistryImage: '' selfSignedCert: false devfileRegistryImage: 'quay.io/mcochran/che-devfile-registry:1.2' tlsSupport: true cheFlavor: codeready cheImageTag: '' &lt;/pre&gt; &lt;p&gt;Click &lt;strong&gt;Create&lt;/strong&gt; and wait several minutes for the Che cluster to become available. Figure 5 shows the screen that CodeReady Workspaces displays upon successful creation.&lt;/p&gt; &lt;div id="attachment_858497" style="width: 650px" class="wp-caption aligncenter"&gt;&lt;img aria-describedby="caption-attachment-858497" class="wp-image-858497 size-full" src="https://developers.redhat.com/blog/wp-content/uploads/2021/01/Screen-Shot-2021-01-18-at-1.04.27-PM-e1616766781687.png" alt="The properties of a CodeReady Workspaces cluster: Name, namespace, status, OpenShift oAuth, TLS mode, and labels." width="640" height="352" /&gt;&lt;p id="caption-attachment-858497" class="wp-caption-text"&gt;Figure 5: The displayed properties of a CodeReady Workspaces cluster.&lt;/p&gt;&lt;/div&gt; &lt;h2&gt;Using the workspace&lt;/h2&gt; &lt;p&gt;Click on your CodeReady Workspaces URL and log in to the cluster. If you&amp;#8217;ve left the default permissions in place during the cluster configuration, you can log in as any OpenShift user. If prompted, select &amp;#8220;Allow the selected permissions.&amp;#8221; On the &lt;strong&gt;Getting Started&lt;/strong&gt; landing page, you will then see the custom C++ stack you created (denoted by a red arrow in Figure 6).&lt;/p&gt; &lt;div id="attachment_858507" style="width: 650px" class="wp-caption aligncenter"&gt;&lt;img aria-describedby="caption-attachment-858507" class="wp-image-858507 size-full" src="https://developers.redhat.com/blog/wp-content/uploads/2021/01/Screen-Shot-2021-01-18-at-1.08.24-PM-e1616767041385.png" alt="The CodeReady Workspaces Getting Started page lists available workspaces, including any that you've created." width="640" height="380" /&gt;&lt;p id="caption-attachment-858507" class="wp-caption-text"&gt;Figure 6: Available workspaces, including the one you&amp;#8217;ve just created.&lt;/p&gt;&lt;/div&gt; &lt;p&gt;Select the workspace and watch it spin up. When it opens, you should see the &lt;strong&gt;Hello&lt;/strong&gt; project that you specified in the devfile. Here, you can inspect some of the files, such as &lt;code&gt;hello-main.cpp&lt;/code&gt;:&lt;/p&gt; &lt;pre&gt;#include &amp;#60;iostream&amp;#62; int main(int argc, char const *argv[]) { std::cout &amp;#60;&amp;#60; "Hello Docker container!" &amp;#60;&amp;#60; std::endl; return0; } &lt;/pre&gt; &lt;p&gt;Now, you can open a terminal to compile and run the code, as shown in the following example. You can also compile and run &lt;code&gt;counter-main.cpp&lt;/code&gt; or any other C++ code:&lt;/p&gt; &lt;pre&gt;$ cd Hello/ $ make hello-main $ ./hello-main &lt;/pre&gt; &lt;p&gt;You should see the program print a &amp;#8220;Hello Docker container!&amp;#8221; message and then terminate. At this point in development, you could make any changes you would like to see in the code, compile it, run it, and push your changes to Git, which could kick off a pipeline to deploy to OpenShift.&lt;/p&gt; &lt;h2&gt;Deploying the application as a Docker instance&lt;/h2&gt; &lt;p&gt;In this example, you do not have Docker tools installed in your CodeReady Workspaces stack, but Docker is installed using the Dockerfile in your Hello Git project. If you would like to test some C++ code in an environment with Docker tooling, enter commands like the following. In this example, &lt;code&gt;rhsm.secret.yaml&lt;/code&gt; contains my credentials for my registry, and I am using &lt;code&gt;quay.io&lt;/code&gt; with the organization &lt;code&gt;mcochran&lt;/code&gt; as my registry. Be sure to replace these variables with the ones for your own environment:&lt;/p&gt; &lt;pre&gt;$ DOCKER_BUILDKIT=1 docker build --progress=plain --secret id=rhsm,src=rhsm.secret.yaml -t quay.io/mcochran/cpp-hello:latest -f Dockerfile . $ docker push quay.io/mcochran/cpp-hello:latest &lt;/pre&gt; &lt;p&gt;Then, create a &lt;code&gt;pod.yaml&lt;/code&gt; file to deploy your code using the Docker image:&lt;/p&gt; &lt;pre&gt;apiVersion: v1 kind: Pod metadata: labels: app: hello-cpp name: hello-cpp-exec spec: containers: - name: hello-cpp image: quay.io/mcochran/cpp-hello livenessProbe: exec: command: - cat - /tmp/healthy initialDelaySeconds: 5 periodSeconds: 5 restartPolicy: Never &lt;/pre&gt; &lt;p&gt;Save your file, then log in to OpenShift from the command line and deploy the pod:&lt;/p&gt; &lt;pre&gt;$ oc login $ oc create -f pod.yaml &lt;/pre&gt; &lt;p&gt;Because this code simply says &amp;#8220;hello,&amp;#8221; the pod will run quickly. You can review the logs afterward for pods that have shut down in the &lt;strong&gt;workloads—&amp;#62;pods&lt;/strong&gt; section of the admin console.&lt;/p&gt; &lt;h2&gt;Summary&lt;/h2&gt; &lt;p&gt;This article has demonstrated how to create a custom devfile registry to make dedicated workspaces available to your team. I showed you how to use a devfile to provide the code and tools appropriate to your environment, and you&amp;#8217;ve seen how convenient it is to deploy an application in CodeReady Workspaces using Docker.&lt;/p&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fusing-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces%2F&amp;#38;linkname=Using%20a%20custom%20devfile%20registry%20and%20C%2B%2B%20with%20Red%20Hat%20CodeReady%20Workspaces" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fusing-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces%2F&amp;#38;linkname=Using%20a%20custom%20devfile%20registry%20and%20C%2B%2B%20with%20Red%20Hat%20CodeReady%20Workspaces" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fusing-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces%2F&amp;#38;linkname=Using%20a%20custom%20devfile%20registry%20and%20C%2B%2B%20with%20Red%20Hat%20CodeReady%20Workspaces" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fusing-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces%2F&amp;#38;linkname=Using%20a%20custom%20devfile%20registry%20and%20C%2B%2B%20with%20Red%20Hat%20CodeReady%20Workspaces" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fusing-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces%2F&amp;#38;linkname=Using%20a%20custom%20devfile%20registry%20and%20C%2B%2B%20with%20Red%20Hat%20CodeReady%20Workspaces" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fusing-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces%2F&amp;#38;linkname=Using%20a%20custom%20devfile%20registry%20and%20C%2B%2B%20with%20Red%20Hat%20CodeReady%20Workspaces" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fusing-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces%2F&amp;#38;linkname=Using%20a%20custom%20devfile%20registry%20and%20C%2B%2B%20with%20Red%20Hat%20CodeReady%20Workspaces" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fusing-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces%2F&amp;#038;title=Using%20a%20custom%20devfile%20registry%20and%20C%2B%2B%20with%20Red%20Hat%20CodeReady%20Workspaces" data-a2a-url="https://developers.redhat.com/blog/2021/04/14/using-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces/" data-a2a-title="Using a custom devfile registry and C++ with Red Hat CodeReady Workspaces"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/14/using-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces/"&gt;Using a custom devfile registry and C++ with Red Hat CodeReady Workspaces&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/RwNaG0b84SE" height="1" width="1" alt=""/&gt;</content><summary type="html">&lt;p&gt;Red Hat CodeReady Workspaces provides teams with predefined workspaces to streamline application development. Out of the box, CodeReady Workspaces supports numerous languages and plugins. However, many organizations want to customize a workspace and make it available to developers across the organization as a standard. In this article, I show you how to use a custom devfile registry [&amp;#8230;]&lt;/p&gt; &lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/14/using-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces/"&gt;Using a custom devfile registry and C++ with Red Hat CodeReady Workspaces&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;</summary><wfw:commentRss xmlns:wfw="http://wellformedweb.org/CommentAPI/">https://developers.redhat.com/blog/2021/04/14/using-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces/feed/</wfw:commentRss><slash:comments xmlns:slash="http://purl.org/rss/1.0/modules/slash/">0</slash:comments><post-id xmlns="com-wordpress:feed-additions:1">858397</post-id><dc:creator>Mary Cochran</dc:creator><dc:date>2021-04-14T07:00:26Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2021/04/14/using-a-custom-devfile-registry-and-c-with-red-hat-codeready-workspaces/</feedburner:origLink></entry><entry><title>Mandrel: A specialized distribution of GraalVM for Quarkus</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/NESdglxFcIQ/" /><category term="Containers" /><category term="DevOps" /><category term="Java" /><category term="Quarkus" /><category term="GraalVM" /><category term="Mandrel" /><category term="native-image" /><category term="OpenJDK" /><author><name>Severin Gehwolf</name></author><id>https://developers.redhat.com/blog/?p=885427</id><updated>2021-04-14T07:00:12Z</updated><published>2021-04-14T07:00:12Z</published><content type="html">&lt;p&gt;When we first announced &lt;a href="https://github.com/graalvm/mandrel"&gt;Mandrel&lt;/a&gt;, we explained why Red Hat needed a &lt;a href="/blog/2020/06/05/mandrel-a-community-distribution-of-graalvm-for-the-red-hat-build-of-quarkus/"&gt;downstream distribution of GraalVM&lt;/a&gt;. We were most interested in GraalVM&amp;#8217;s &lt;a target="_blank" rel="nofollow" href="https://www.graalvm.org/reference-manual/native-image/"&gt;native image capability&lt;/a&gt;, specifically in the context of &lt;a target="_blank" rel="nofollow" href="/products/quarkus/getting-started"&gt;Quarkus&lt;/a&gt;. In this article, we explain what Mandrel is and what it&amp;#8217;s not. We&amp;#8217;ll introduce some of Mandrel&amp;#8217;s technical features and offer a short demonstration of using Mandrel with Quarkus.&lt;/p&gt; &lt;h2&gt;What is Mandrel?&lt;/h2&gt; &lt;p&gt;Mandrel focuses on GraalVM&amp;#8217;s &lt;code&gt;native-image&lt;/code&gt; component in order to provide an easy way for Quarkus users to generate native images for their applications. Developers using Quarkus should be able to go all the way from &lt;a target="_blank" rel="nofollow" href="/topics/enterprise-java"&gt;Java&lt;/a&gt; source code to lean, native, platform-dependent applications running on &lt;a target="_blank" rel="nofollow" href="/topics/linux"&gt;Linux&lt;/a&gt;. This capability is vital for &lt;a target="_blank" rel="nofollow" href="/topics/containers"&gt;deploying to containers&lt;/a&gt; in a cloud-native application development model.&lt;/p&gt; &lt;p&gt;We&amp;#8217;ve deliberately made no promises about other uses of GraalVM within Mandrel. A full distribution of GraalVM is &lt;a target="_blank" rel="nofollow" href="https://www.graalvm.org/docs/graalvm-as-a-platform/"&gt;much more than native-image&lt;/a&gt;: It has &lt;a target="_blank" rel="nofollow" href="https://www.graalvm.org/reference-manual/polyglot-programming/"&gt;polyglot support&lt;/a&gt;; the Truffle framework, which supports efficient interpreter implementation; an &lt;a target="_blank" rel="nofollow" href="https://www.graalvm.org/reference-manual/native-image/LLVMBackend/"&gt;LLVM compiler back end&lt;/a&gt; for &lt;code&gt;native-image&lt;/code&gt;; the libgraal JIT compiler as a replacement for HotSpot’s C2 server compiler; and much more. Mandrel is a small subset of GraalVM&amp;#8217;s functionality. We support it for the &lt;code&gt;native-image&lt;/code&gt; use case in projects like Quarkus.&lt;/p&gt; &lt;h2&gt;Why Mandrel?&lt;/h2&gt; &lt;p&gt;Mandrel lets us remove the parts of GraalVM that we don&amp;#8217;t need and focus on &lt;code&gt;native-image&lt;/code&gt;. It reduces the codebase we have to maintain and test. Mandrel lets us use upstream OpenJDK 11 instead of &lt;a target="_blank" rel="nofollow" href="https://github.com/graalvm/labs-openjdk-11"&gt;Labs OpenJDK 11&lt;/a&gt;, the base Java Development Kit for &lt;a href="https://github.com/graalvm/graalvm-ce-builds/releases"&gt;GraalVM CE&lt;/a&gt;. Red Hat has a team to support &lt;a target="_blank" rel="nofollow" href="/products/openjdk/overview"&gt;OpenJDK for Red Hat customers&lt;/a&gt;, so using upstream OpenJDK was a natural fit for Mandrel. Red Hat also has a strong history of being involved in OpenJDK upstream, and currently leads the OpenJDK 11u stream of the &lt;a target="_blank" rel="nofollow" href="https://openjdk.java.net/projects/jdk-updates/"&gt;jdk-updates OpenJDK project&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;Through our leadership in these projects, we&amp;#8217;ve made stable changes that improved GraalVM, and thus Mandrel. Because Red Hat is an upstream-first company, we try to get patches upstream from the start. So far, we&amp;#8217;ve augmented &lt;a target="_blank" rel="nofollow" href="/blog/2020/06/25/debugging-graalvm-native-images-using-gdb/"&gt;GraalVM CE with debugging capabilities&lt;/a&gt; (using the &lt;code&gt;-g&lt;/code&gt; flag) for both Linux and Windows, and we&amp;#8217;re actively working with Oracle Labs to &lt;a target="_blank" rel="nofollow" href="https://github.com/oracle/graal/pull/3070"&gt;add JDK Flight Recorder support&lt;/a&gt; to &lt;code&gt;native-image&lt;/code&gt;. Once integrated, developers will be able to use &lt;a target="_blank" rel="nofollow" href="/blog/2020/08/25/get-started-with-jdk-flight-recorder-in-openjdk-8u/"&gt;JDK Flight Recorder&lt;/a&gt; to observe and trace behavior and performance challenges in their applications whether they run in JVM-mode or natively.&lt;/p&gt; &lt;h2&gt;GraalVM components in Mandrel&lt;/h2&gt; &lt;p&gt;To deliver GraalVM&amp;#8217;s &lt;code&gt;native-image&lt;/code&gt; feature via Mandrel, we build only the &lt;a target="_blank" rel="nofollow" href="https://github.com/oracle/graal/blob/master/substratevm/README.md"&gt;Substrate VM framework&lt;/a&gt;, along with its dependencies. This includes the &lt;a target="_blank" rel="nofollow" href="https://github.com/oracle/graal/blob/master/sdk/README.md"&gt;GraalVM SDK&lt;/a&gt; and the &lt;a target="_blank" rel="nofollow" href="https://github.com/oracle/graal/blob/master/compiler/README.md"&gt;GraalVM compiler&lt;/a&gt;. All other GraalVM components, like &lt;a target="_blank" rel="nofollow" href="https://github.com/oracle/graal/blob/master/truffle/README.md"&gt;Truffle&lt;/a&gt; and &lt;a target="_blank" rel="nofollow" href="https://github.com/oracle/graal/blob/master/sulong/README.md"&gt;Sulong&lt;/a&gt;, are not part of Mandrel, and we don&amp;#8217;t build them.&lt;/p&gt; &lt;p&gt;Apart from the GraalVM SDK and compiler, the Substrate VM also depends on a base JDK and a native-compiler toolchain. Mandrel uses upstream OpenJDK 11 builds and the GNU Compiler Collection (GCC) to satisfy these dependencies, whereas GraalVM uses &lt;a target="_blank" rel="nofollow" href="https://github.com/graalvm/labs-openjdk-11"&gt;Labs OpenJDK 11&lt;/a&gt; and supports both the GCC and LLVM toolchains.&lt;/p&gt; &lt;p&gt;We tend to think of Mandrel as an extension to OpenJDK—mostly JAR files and very few native binaries. In fact, our &lt;a href="https://catalog.redhat.com/software/containers/quarkus/mandrel-20-rhel8/5f43d40b73bfe598d1857c15"&gt;productized Mandrel image&lt;/a&gt; only adds two RPMs on top of a regular &lt;code&gt;java-11-openjdk-static-libs&lt;/code&gt; installation from base RHEL.&lt;/p&gt; &lt;h2&gt;Building Mandrel&lt;/h2&gt; &lt;p&gt;GraalVM is built using &lt;a target="_blank" rel="nofollow" href="https://github.com/graalvm/mx"&gt;mx&lt;/a&gt;, a tool written in Python. All the dependencies between the different GraalVM components are defined through &lt;i&gt;mx suites&lt;/i&gt;, and parts of the build process are defined as &lt;i&gt;mx extensions&lt;/i&gt;. As a result, &lt;code&gt;mx&lt;/code&gt; is an integral part of Mandrel&amp;#8217;s build process, as well. Extending the &lt;code&gt;mx&lt;/code&gt; suites to support both GraalVM and Mandrel builds &lt;a target="_blank" rel="nofollow" href="https://github.com/oracle/graal/issues/2502"&gt;turned out to be difficult&lt;/a&gt;. It was especially challenging to combine that effort with reducing the components being built and splitting the build steps, which we did to support building different parts on different build systems.&lt;/p&gt; &lt;p&gt;Our current solution is using &lt;a href="https://github.com/graalvm/mandrel-packaging"&gt;mandrel-packaging&lt;/a&gt; to build Mandrel. This tooling handles removing unnecessary dependencies from otherwise needed &lt;code&gt;mx&lt;/code&gt; suites, and it invokes the necessary commands in the correct order. The &lt;code&gt;mandrel-packaging&lt;/code&gt; tool also lets us build Mandrel in three steps: First, we generate the Java parts (JAR files and Maven artifacts); then, the native parts (GraalVM’s static libraries); and finally, we assemble them with OpenJDK 11 to produce a &lt;code&gt;native-image&lt;/code&gt;-capable runtime.&lt;/p&gt; &lt;p&gt;Here are the basic instructions for building Mandrel&amp;#8217;s current version from source, using OpenJDK 11 as the basis:&lt;/p&gt; &lt;pre&gt;$ curl -sL https://github.com/AdoptOpenJDK/openjdk11-upstream-binaries/releases/download/jdk-11.0.10%2B9/OpenJDK11U-jdk_x64_linux_11.0.10_9.tar.gz -o jdk.tar.gz $ curl -sL https://github.com/AdoptOpenJDK/openjdk11-upstream-binaries/releases/download/jdk-11.0.10%2B9/OpenJDK11U-static-libs_x64_linux_11.0.10_9.tar.gz -o jdk-static-libs.tar.gz $ export JAVA_HOME=$(pwd)/openjdk-11 $ mkdir ${JAVA_HOME} $ tar xf jdk.tar.gz -C ${JAVA_HOME} --strip-components=1 $ tar xf jdk-static-libs.tar.gz -C ${JAVA_HOME} --strip-components=1 $ git clone --depth 1 --branch 5.279.1 https://github.com/graalvm/mx $ git clone --depth 1 --branch mandrel-21.0.0.0-Final \   https://github.com/graalvm/mandrel  $ git clone --depth 1 --branch mandrel-21.0.0.0-Final \  https://github.com/graalvm/mandrel-packaging$ $JAVA_HOME/bin/java -ea ./mandrel-packaging/build.java --mx-home $(pwd)/mx $ ./mandrel-java11-21.0.0.0-Final/bin/native-image --version GraalVM Version 21.0.0.0-Final (Mandrel Distribution) (Java Version 11.0.10+9) &lt;/pre&gt; &lt;h2&gt;Collaboration with Oracle Labs&lt;/h2&gt; &lt;p&gt;GraalVM CE 11 is based on &lt;a target="_blank" rel="nofollow" href="https://github.com/graalvm/labs-openjdk-11/"&gt;Labs OpenJDK 11&lt;/a&gt;, a fork of the upstream OpenJDK 11, which is used to build a base JDK with support for libgraal and GraalVM CE. Labs OpenJDK 11 is maintained by the same group that builds &lt;a href="https://github.com/graalvm/graalvm-ce-builds/releases"&gt;GraalVM CE&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;Because Graal VM CE is based on Labs OpenJDK 11, the Graal VM team can take advantage of the latest &lt;a target="_blank" rel="nofollow" href="https://openjdk.java.net/jeps/243"&gt;Java-level JVM Compiler Interface&lt;/a&gt; (JVMCI) enhancements in Java 11 and &lt;em&gt;enhance&lt;/em&gt; them. Because the two projects are so connected, it was &lt;a target="_blank" rel="nofollow" href="https://github.com/oracle/graal/issues/2196"&gt;impossible to replace Labs OpenJDK 11 with upstream OpenJDK 11&lt;/a&gt; as the build JDK when we started. We collaborated with Oracle Labs to make Mandrel a reality.&lt;/p&gt; &lt;p&gt;We wanted to build with plain OpenJDK 11, and Oracle Labs wanted fewer patches to maintain downstream. This work concluded with a set of patches being merged in the GraalVM codebase and upstream OpenJDK 11. It was a great foundation for further collaboration. Most notably, we needed to get support for building OpenJDK libraries as static variants into OpenJDK 11. Mandrel uses OpenJDK static libraries rather than their shared library counterparts in regular OpenJDK distributions. This lets us link native Java applications into native images, which are dependent on OpenJDK libraries.&lt;/p&gt; &lt;h2&gt;Using Mandrel with Quarkus&lt;/h2&gt; &lt;p&gt;At the time of this writing, Quarkus is Mandrel&amp;#8217;s main consumer. Here is a quick demonstration of using Mandrel to generate a native executable for a simple RESTEasy Quarkus application written in Java:&lt;/p&gt; &lt;pre&gt;$ echo | mvn io.quarkus:quarkus-maven-plugin:1.12.2.Final:create $ cd code-with-quarkus $ ./mvnw -Dnative verify \          -Dquarkus.native.container-build=true \ -Dquarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-mandrel:20.3-java11 $ ./target/code-with-quarkus-1.0.0-SNAPSHOT-runner   __  ____  __  _____   ___  __ ____  ______   --/ __ \/ / / / _ | / _ \/ //_/ / / / __/    -/ /_/ / /_/ / __ |/ , _/ ,&amp;#60; / /_/ /\ \     --\___\_\____/_/ |_/_/|_/_/|_|\____/___/     2021-03-08 17:57:40,084 INFO  [io.quarkus] (main) code-with-quarkus 1.0.0-SNAPSHOT native (powered by Quarkus 1.12.2.Final) started in 0.014s. Listening on: http://0.0.0.0:8080 2021-03-08 17:57:40,084 INFO  [io.quarkus] (main) Profile prod activated.   2021-03-08 17:57:40,084 INFO  [io.quarkus] (main) Installed features: [cdi, resteasy] $ curl -w "\n" http://localhost:8080/hello-resteasy Hello RESTEasy &lt;/pre&gt; &lt;p&gt;We first create a simple RESTEasy Quarkus application in the directory, &lt;code&gt;code-with-quarkus&lt;/code&gt;. We then compile the Java source code with the Maven wrapper (&lt;code&gt;mvnw&lt;/code&gt;), and build the native executable from Java class files using a predefined container image. The &lt;code&gt;-Dnative&lt;/code&gt; parameter instructs Maven to generate a native executable, &lt;code&gt;-Dquarkus.native.container-build=true&lt;/code&gt; instructs Quarkus to build the native executable using a builder image, and &lt;code&gt;-Dquarkus.native.builder-image=...&lt;/code&gt; dictates &lt;a href="https://quay.io/repository/quarkus/ubi-quarkus-mandrel?tag=latest&amp;#38;tab=tags"&gt;which builder image&lt;/a&gt; to use. Visit the &lt;a target="_blank" rel="nofollow" href="https://quarkus.io/guides/building-native-image"&gt;Quarkus guides&lt;/a&gt; for more details about this example.&lt;/p&gt; &lt;p&gt;The generated binary, &lt;code&gt;./target/code-with-quarkus-1.0.0-SNAPSHOT-runner&lt;/code&gt;, is a native ELF binary suitable to run on a basic Linux distribution, like a &lt;a target="_blank" rel="nofollow" href="https://catalog.redhat.com/software/containers/ubi8/ubi-minimal/5c359a62bed8bd75a2c3fba8"&gt;minimal UBI 8 image&lt;/a&gt;:&lt;/p&gt; &lt;pre&gt;$ file target/code-with-quarkus-1.0.0-SNAPSHOT-runner target/code-with-quarkus-1.0.0-SNAPSHOT-runner: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 3.2.0, BuildID[sha1]=b43068dce7c114a0e8d018370a9d47e1e257de44, not stripped &lt;/pre&gt; &lt;p&gt;Figure 1 shows the workflow for containerizing a Quarkus application with Mandrel&amp;#8217;s &lt;code&gt;native-image&lt;/code&gt; executable.&lt;/p&gt; &lt;div id="attachment_895217" style="width: 650px" class="wp-caption aligncenter"&gt;&lt;a href="https://developers.redhat.com/blog/wp-content/uploads/2021/04/containerize.jpeg"&gt;&lt;img aria-describedby="caption-attachment-895217" class="wp-image-895217 size-large" src="https://developers.redhat.com/blog/wp-content/uploads/2021/04/containerize-1024x299.jpeg" alt="A diagram of the workflow to produce a Quarkus container image." width="640" height="187" srcset="https://developers.redhat.com/blog/wp-content/uploads/2021/04/containerize-1024x299.jpeg 1024w, https://developers.redhat.com/blog/wp-content/uploads/2021/04/containerize-300x88.jpeg 300w, https://developers.redhat.com/blog/wp-content/uploads/2021/04/containerize-768x224.jpeg 768w" sizes="(max-width: 640px) 100vw, 640px" /&gt;&lt;/a&gt;&lt;p id="caption-attachment-895217" class="wp-caption-text"&gt;Figure 1: Containerizing a Quarkus application with Mandrel.&lt;/p&gt;&lt;/div&gt; &lt;h2&gt;Summary&lt;/h2&gt; &lt;p&gt;Mandrel is a downstream release of GraalVM, focused on native image compilation of Java applications in Red Hat-backed projects. As such, it is not a GraalVM &lt;code&gt;native-image&lt;/code&gt; replacement for all users. For instance, Mandrel does not ship with polyglot or LLVM toolchain support, which some use cases might require. However, Red Hat engineers contribute to upstream GraalVM and work hard to stay up-to-date with upstream GraalVM code.&lt;/p&gt; &lt;p&gt;Mandrel is part of the GraalVM GitHub organization and is being maintained as part of that organization; it&amp;#8217;s part of the GraalVM ecosystem and we do not intend to change that. That said, Mandrel aims to meet the sustainability needs of projects like Quarkus. Our main goal in that regard is to keep Mandrel versions that are part of the larger Quarkus ecosystem stable and supported throughout their lifecycle in that ecosystem. So, it&amp;#8217;s likely that we’ll keep certain Mandrel versions updated longer than regular upstream GraalVM CE builds normally would be. Also, because Mandrel depends on OpenJDK 11, we’ll need to keep it up-to-date with OpenJDK&amp;#8217;s quarterly security fixes.&lt;/p&gt; &lt;p&gt;Please check back regularly for &lt;a href="https://github.com/graalvm/mandrel/releases/"&gt;Mandrel releases&lt;/a&gt; on our GitHub page. We currently have downloads for Linux and Windows. We usually publish UBI 8-based Linux container images to &lt;a href="https://quay.io/repository/quarkus/ubi-quarkus-mandrel"&gt;quay.io&lt;/a&gt; at the same time as our GitHub releases or soon after.&lt;/p&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fmandrel-a-specialized-distribution-of-graalvm-for-quarkus%2F&amp;#38;linkname=Mandrel%3A%20A%20specialized%20distribution%20of%20GraalVM%20for%20Quarkus" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fmandrel-a-specialized-distribution-of-graalvm-for-quarkus%2F&amp;#38;linkname=Mandrel%3A%20A%20specialized%20distribution%20of%20GraalVM%20for%20Quarkus" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fmandrel-a-specialized-distribution-of-graalvm-for-quarkus%2F&amp;#38;linkname=Mandrel%3A%20A%20specialized%20distribution%20of%20GraalVM%20for%20Quarkus" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fmandrel-a-specialized-distribution-of-graalvm-for-quarkus%2F&amp;#38;linkname=Mandrel%3A%20A%20specialized%20distribution%20of%20GraalVM%20for%20Quarkus" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fmandrel-a-specialized-distribution-of-graalvm-for-quarkus%2F&amp;#38;linkname=Mandrel%3A%20A%20specialized%20distribution%20of%20GraalVM%20for%20Quarkus" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fmandrel-a-specialized-distribution-of-graalvm-for-quarkus%2F&amp;#38;linkname=Mandrel%3A%20A%20specialized%20distribution%20of%20GraalVM%20for%20Quarkus" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fmandrel-a-specialized-distribution-of-graalvm-for-quarkus%2F&amp;#38;linkname=Mandrel%3A%20A%20specialized%20distribution%20of%20GraalVM%20for%20Quarkus" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F14%2Fmandrel-a-specialized-distribution-of-graalvm-for-quarkus%2F&amp;#038;title=Mandrel%3A%20A%20specialized%20distribution%20of%20GraalVM%20for%20Quarkus" data-a2a-url="https://developers.redhat.com/blog/2021/04/14/mandrel-a-specialized-distribution-of-graalvm-for-quarkus/" data-a2a-title="Mandrel: A specialized distribution of GraalVM for Quarkus"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/14/mandrel-a-specialized-distribution-of-graalvm-for-quarkus/"&gt;Mandrel: A specialized distribution of GraalVM for Quarkus&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/NESdglxFcIQ" height="1" width="1" alt=""/&gt;</content><summary type="html">&lt;p&gt;When we first announced Mandrel, we explained why Red Hat needed a downstream distribution of GraalVM. We were most interested in GraalVM&amp;#8217;s native image capability, specifically in the context of Quarkus. In this article, we explain what Mandrel is and what it&amp;#8217;s not. We&amp;#8217;ll introduce some of Mandrel&amp;#8217;s technical features and offer a short demonstration [&amp;#8230;]&lt;/p&gt; &lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/14/mandrel-a-specialized-distribution-of-graalvm-for-quarkus/"&gt;Mandrel: A specialized distribution of GraalVM for Quarkus&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;</summary><wfw:commentRss xmlns:wfw="http://wellformedweb.org/CommentAPI/">https://developers.redhat.com/blog/2021/04/14/mandrel-a-specialized-distribution-of-graalvm-for-quarkus/feed/</wfw:commentRss><slash:comments xmlns:slash="http://purl.org/rss/1.0/modules/slash/">0</slash:comments><post-id xmlns="com-wordpress:feed-additions:1">885427</post-id><dc:creator>Severin Gehwolf</dc:creator><dc:date>2021-04-14T07:00:12Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2021/04/14/mandrel-a-specialized-distribution-of-graalvm-for-quarkus/</feedburner:origLink></entry><entry><title>How to pick the right container base image</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/qgk4rbd3QMg/" /><category term="Containers" /><category term="DevOps" /><category term="Linux" /><category term="Uncategorized" /><category term="container base image" /><category term="rhel 8" /><category term="UBI" /><author><name>Scott McCarty (fatherlinux)</name></author><id>https://developers.redhat.com/blog/?p=890697</id><updated>2021-04-13T13:05:32Z</updated><published>2021-04-13T13:05:32Z</published><content type="html">&lt;p&gt;Picking the right &lt;a target="_blank" rel="nofollow" href="/topics/containers/"&gt;container&lt;/a&gt; base image feels hard for a lot of people. Every major &lt;a target="_blank" rel="nofollow" href="/topics/linux"&gt;Linux&lt;/a&gt; distribution offers a base image. Open source projects for programming languages like Python, Ruby, and &lt;a target="_blank" rel="nofollow" href="/topics/nodejs"&gt;Node.js&lt;/a&gt; offer their own base images. Many open source projects and vendors also provide their own images for services like MariaDB, Redis, Elastic, and MySQL. While programming languages and services are not technically &lt;a target="_blank" rel="nofollow" href="/blog/2018/02/22/container-terminology-practical-introduction/#h.hc7hn0blfovy"&gt;base images&lt;/a&gt;, most people perceive them as such and include them in their analysis when choosing standardized base images.&lt;/p&gt; &lt;h2&gt;Why the container base image matters&lt;/h2&gt; &lt;p&gt;According to an upcoming report based on a survey conducted by the Red Hat Europe, Middle East, and Africa (EMEA) team, a large percentage of developers use a standardized base image chosen by their operations team. However, the survey found that nearly as many teams let developers use whatever they want in production. This is a big indicator that teams are having trouble figuring out the right methodology for handling container base images.&lt;/p&gt; &lt;p&gt;You might be asking yourself, why does it matter? In the same survey, a large majority of surveyed developers ranked &lt;em&gt;security&lt;/em&gt; as a top three requirement for container base images. Developers ranked &lt;em&gt;guaranteed operations&lt;/em&gt; as number two, with &lt;em&gt;multi-year life cycle&lt;/em&gt; a distant third for priorities.&lt;/p&gt; &lt;p&gt;If any of these requirements is a top priority for you and your teams, then &lt;a target="_blank" rel="nofollow" href="/products/rhel/ubi"&gt;Red Hat Universal Base Image&lt;/a&gt; (UBI) is an easy choice. UBI is a component of &lt;a target="_blank" rel="nofollow" href="/products/rhel/download"&gt;Red Hat Enterprise Linux 8&lt;/a&gt; that helps build containers. It is a lightweight version of the Red Hat Enterprise Linux user space, stripped down to the bare essentials.&lt;/p&gt; &lt;p&gt;Remember, what’s in a base container image is still an operating system that derives its security, reliability, and life cycle from the underlying operating system on which it is built. UBI is a well-maintained, up-to-date, enterprise-grade container image. It is also freely usable and freely distributable. You don’t even need to be a Red Hat customer to use it.&lt;/p&gt; &lt;h2&gt;Get started with Universal Base Images&lt;/h2&gt; &lt;p&gt;Development and operations teams should think deeply about their container base image. To help you make this strategic decision, we’ve published a new e-book, &lt;a href="https://developers.redhat.com/books/red-hat-universal-base-images-ubi"&gt;&lt;i&gt;Red Hat Universal Base Images&lt;/i&gt;&lt;/a&gt;. This book contains information to help you understand and get started with UBI, including:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;How you can use freely available container images that build on RHEL&amp;#8217;s long-term support, commitment to quality, security, reliability, and performance.&lt;/li&gt; &lt;li&gt;Why choosing a base container image is a strategic decision and why they are a key part of your standard operating environment.&lt;/li&gt; &lt;li&gt;Which types of UBI images are available and how to choose between them.&lt;/li&gt; &lt;li&gt;How to find the available UBI images, including language and other runtime images that are ready for you to add your code.&lt;/li&gt; &lt;li&gt;Where to find additional packages to use with UBI images.&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;&lt;a href="https://developers.redhat.com/books/red-hat-universal-base-images-ubi"&gt;Read the e-book&lt;/a&gt; to learn why what’s in your base image matters and to find out how you can get started with UBI in your development projects.&lt;/p&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fhow-to-pick-the-right-container-base-image%2F&amp;#38;linkname=How%20to%20pick%20the%20right%20container%20base%20image" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fhow-to-pick-the-right-container-base-image%2F&amp;#38;linkname=How%20to%20pick%20the%20right%20container%20base%20image" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fhow-to-pick-the-right-container-base-image%2F&amp;#38;linkname=How%20to%20pick%20the%20right%20container%20base%20image" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fhow-to-pick-the-right-container-base-image%2F&amp;#38;linkname=How%20to%20pick%20the%20right%20container%20base%20image" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fhow-to-pick-the-right-container-base-image%2F&amp;#38;linkname=How%20to%20pick%20the%20right%20container%20base%20image" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fhow-to-pick-the-right-container-base-image%2F&amp;#38;linkname=How%20to%20pick%20the%20right%20container%20base%20image" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fhow-to-pick-the-right-container-base-image%2F&amp;#38;linkname=How%20to%20pick%20the%20right%20container%20base%20image" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fhow-to-pick-the-right-container-base-image%2F&amp;#038;title=How%20to%20pick%20the%20right%20container%20base%20image" data-a2a-url="https://developers.redhat.com/blog/2021/04/13/how-to-pick-the-right-container-base-image/" data-a2a-title="How to pick the right container base image"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/13/how-to-pick-the-right-container-base-image/"&gt;How to pick the right container base image&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/qgk4rbd3QMg" height="1" width="1" alt=""/&gt;</content><summary type="html">&lt;p&gt;Picking the right container base image feels hard for a lot of people. Every major Linux distribution offers a base image. Open source projects for programming languages like Python, Ruby, and Node.js offer their own base images. Many open source projects and vendors also provide their own images for services like MariaDB, Redis, Elastic, and [&amp;#8230;]&lt;/p&gt; &lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/13/how-to-pick-the-right-container-base-image/"&gt;How to pick the right container base image&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;</summary><wfw:commentRss xmlns:wfw="http://wellformedweb.org/CommentAPI/">https://developers.redhat.com/blog/2021/04/13/how-to-pick-the-right-container-base-image/feed/</wfw:commentRss><slash:comments xmlns:slash="http://purl.org/rss/1.0/modules/slash/">0</slash:comments><post-id xmlns="com-wordpress:feed-additions:1">890697</post-id><dc:creator>Scott McCarty (fatherlinux)</dc:creator><dc:date>2021-04-13T13:05:32Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2021/04/13/how-to-pick-the-right-container-base-image/</feedburner:origLink></entry><entry><title>C# 9 new features for methods and functions</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/zZys6rABv3E/" /><category term=".NET" /><category term="C#" /><category term="Uncategorized" /><category term=".NET 5" /><category term="C# 9" /><category term="functions" /><category term="methods" /><author><name>Tom Deseyn</name></author><id>https://developers.redhat.com/blog/?p=873857</id><updated>2021-04-13T07:00:48Z</updated><published>2021-04-13T07:00:48Z</published><content type="html">&lt;p&gt;This is the third article in our C# 9 series. In the previous articles, we covered &lt;a target="_blank" rel="nofollow" href="/blog/2021/03/30/c-9-top-level-programs-and-target-typed-expressions/"&gt;top-level programs and target-typed expressions&lt;/a&gt; and &lt;a target="_blank" rel="nofollow" href="/blog/2021/04/06/c-9-pattern-matching/"&gt;new features for pattern matching&lt;/a&gt;. In this article, we’ll look at new features for methods, anonymous functions, and local functions.&lt;/p&gt; &lt;h2&gt;Covariant return types&lt;/h2&gt; &lt;p&gt;When overriding base class members or implementing interfaces, C# 9 allows you to use a more specific return type:&lt;/p&gt; &lt;pre&gt;class Person { public virtual Person Clone() { ... } } class Student : Person { public override Student Clone() { ... } } &lt;/pre&gt; &lt;p&gt;In previous versions of C#, the return type had to match the base declaration. A cast was required in order to obtain the actual more specific type:&lt;/p&gt; &lt;pre&gt;Student clone = (Student)student.Clone(); &lt;/pre&gt; &lt;h2&gt;Static anonymous functions&lt;/h2&gt; &lt;p&gt;For a long time, C# has supported the declaration of anonymous functions using anonymous methods or lambda expressions:&lt;/p&gt; &lt;pre&gt;// Anonymous functions: // - C# 2.0: anonymous methods Func&amp;#60;string, int&amp;#62; = delegate(string arg) { return arg.Length; }; // - C# 3.0: lambda expressions Func&amp;#60;string, int&amp;#62; = arg =&amp;#62; arg.Length; &lt;/pre&gt; &lt;p&gt;Anonymous functions can use local variables. To disallow this, and require explicit passing of all arguments, we can now mark anonymous functions as &lt;code&gt;static&lt;/code&gt;:&lt;/p&gt; &lt;pre&gt;// error CS8820: static anonymous function references ‘offset’ int offset = 20; Func&amp;#60;string, int&amp;#62; d1 = static delegate(string arg) { return arg.Length + offset; }; Func&amp;#60;string, int&amp;#62; d2 = static arg =&amp;#62; arg.Length + offset; &lt;/pre&gt; &lt;h2&gt;Attributes on local functions&lt;/h2&gt; &lt;p&gt;C# 7 introduced local functions, which are defined in the calling method. C# 8 enhanced these local functions and permitted them to be marked as &lt;code&gt;static&lt;/code&gt; to disallow the use of local variables (similar to the previous section).&lt;/p&gt; &lt;p&gt;C# 9 makes it possible to add attributes to local functions. The following example applies the &lt;code&gt;DllImport&lt;/code&gt; attribute to a local function:&lt;/p&gt; &lt;pre&gt;public static void Terminate(this Process p) { const int SIGTERM = 15; kill(p.Id, SIGTERM); [DllImport("libc", SetLastError = true)] static extern int kill(int pid, int sig); } &lt;/pre&gt; &lt;h2&gt;Extended partial methods&lt;/h2&gt; &lt;p&gt;To facilitate customizing generated code, C# 3 introduced the concept of partial methods.&lt;/p&gt; &lt;p&gt;The generated C# code includes a method marked with &lt;code&gt;partial&lt;/code&gt; with no body. The body for the method is provided by the user in a separate file.&lt;/p&gt; &lt;p&gt;C# 3 doesn’t require the user to provide a body. When the code is compiled, the compiler uses the method that was provided by the user, or omits the calls if there is no such method.&lt;/p&gt; &lt;p&gt;Because providing the implementation is optional, partial methods are not allowed to have output parameters or non-void return types:&lt;/p&gt; &lt;pre&gt;// -- MyForm.generated.cs -- public partial class MyForm : Form { public MyForm() { // ... // generated code to initialize components. // ... OnComponentsInitialized(); } partial void OnComponentsInitialized(); } // -- MyForm.cs -- public partial class MyForm { partial void OnComponentsInitialized() { // user code } } &lt;/pre&gt; &lt;p&gt;C# 9 allows &lt;code&gt;partial&lt;/code&gt; methods to have a return type and output parameters. The compiler requires there to be an implementation. This extended kind of partial method must have an accessibility modifier, which is no longer limited to private scope.&lt;/p&gt; &lt;p&gt;This lets the user split the declaration of a method (the method signature) from its definition (the code).&lt;/p&gt; &lt;p&gt;Extended partial methods go hand-in-hand with another new C# compiler feature: &lt;em&gt;source generators&lt;/em&gt;. A source generator is code that runs during compilation to produce additional source code that gets compiled. You can learn more about source generators in &lt;a target="_blank" rel="nofollow" href="https://devblogs.microsoft.com/dotnet/introducing-c-source-generators/"&gt;Introducing C# Source Generators&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;As you probably guessed, a source generator is responsible for generating the implementation of partial methods. The following example shows a partial method that can cause a source generator to emit an implementation that is optimized for the regular expression provided in the &lt;code&gt;RegexGenerated&lt;/code&gt; attribute:&lt;/p&gt; &lt;pre&gt;[RegexGenerated("(dog|cat|fish)")] public partial bool IsPetMatch(string input); &lt;/pre&gt; &lt;h2&gt;Conclusion&lt;/h2&gt; &lt;p&gt;This article covered new capabilities for methods and functions in C# 9. We learned that overridden methods can now return more specific types, anonymous methods can be marked &lt;code&gt;static&lt;/code&gt; to require passing in all parameters, and local functions can now have attributes. Finally, we looked at extended partial methods and how they are used with C# source generators.&lt;/p&gt; &lt;p&gt;C# 9 can be used with the &lt;a target="_blank" rel="nofollow" href="/blog/2020/12/22/net-5-0-now-available-for-red-hat-enterprise-linux-and-red-hat-openshift/"&gt;.NET 5 SDK&lt;/a&gt;, which is available on&lt;br /&gt; &lt;a target="_blank" rel="nofollow" href="/products/rhel/overview"&gt;Red Hat Enterprise Linux&lt;/a&gt; and &lt;a target="_blank" rel="nofollow" href="/products/openshift/overview"&gt;Red Hat OpenShift&lt;/a&gt;, on &lt;a target="_blank" rel="nofollow" href="http://fedoraloves.net/"&gt;Fedora&lt;/a&gt;, and &lt;a target="_blank" rel="nofollow" href="https://dotnet.microsoft.com/download"&gt;from Microsoft for Windows, macOS, and other Linux distributions&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fc-9-new-features-for-methods-and-functions%2F&amp;#38;linkname=C%23%209%20new%20features%20for%20methods%20and%20functions" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fc-9-new-features-for-methods-and-functions%2F&amp;#38;linkname=C%23%209%20new%20features%20for%20methods%20and%20functions" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fc-9-new-features-for-methods-and-functions%2F&amp;#38;linkname=C%23%209%20new%20features%20for%20methods%20and%20functions" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fc-9-new-features-for-methods-and-functions%2F&amp;#38;linkname=C%23%209%20new%20features%20for%20methods%20and%20functions" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fc-9-new-features-for-methods-and-functions%2F&amp;#38;linkname=C%23%209%20new%20features%20for%20methods%20and%20functions" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fc-9-new-features-for-methods-and-functions%2F&amp;#38;linkname=C%23%209%20new%20features%20for%20methods%20and%20functions" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fc-9-new-features-for-methods-and-functions%2F&amp;#38;linkname=C%23%209%20new%20features%20for%20methods%20and%20functions" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F13%2Fc-9-new-features-for-methods-and-functions%2F&amp;#038;title=C%23%209%20new%20features%20for%20methods%20and%20functions" data-a2a-url="https://developers.redhat.com/blog/2021/04/13/c-9-new-features-for-methods-and-functions/" data-a2a-title="C# 9 new features for methods and functions"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/13/c-9-new-features-for-methods-and-functions/"&gt;C# 9 new features for methods and functions&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/zZys6rABv3E" height="1" width="1" alt=""/&gt;</content><summary type="html">&lt;p&gt;This is the third article in our C# 9 series. In the previous articles, we covered top-level programs and target-typed expressions and new features for pattern matching. In this article, we’ll look at new features for methods, anonymous functions, and local functions. Covariant return types When overriding base class members or implementing interfaces, C# 9 [&amp;#8230;]&lt;/p&gt; &lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/13/c-9-new-features-for-methods-and-functions/"&gt;C# 9 new features for methods and functions&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;</summary><wfw:commentRss xmlns:wfw="http://wellformedweb.org/CommentAPI/">https://developers.redhat.com/blog/2021/04/13/c-9-new-features-for-methods-and-functions/feed/</wfw:commentRss><slash:comments xmlns:slash="http://purl.org/rss/1.0/modules/slash/">0</slash:comments><post-id xmlns="com-wordpress:feed-additions:1">873857</post-id><dc:creator>Tom Deseyn</dc:creator><dc:date>2021-04-13T07:00:48Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2021/04/13/c-9-new-features-for-methods-and-functions/</feedburner:origLink></entry><entry><title type="html">Headless eCommerce - Example headless architectures</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/nvFvbPaPew4/headless-ecommerce-example-headless-architectures.html" /><author><name>Eric D. Schabell</name></author><id>http://feedproxy.google.com/~r/schabell/jboss/~3/A556GImiPmU/headless-ecommerce-example-headless-architectures.html</id><updated>2021-04-13T05:00:00Z</updated><content type="html">Part 3 - Example headless architectures In our  from this series shared a look at the logical common architectural elements found in a headless e-commerce solution for retail stores. The process was laid out how we've approached the use case and how portfolio solutions are the base for researching a generic architectural blueprint. It continued by laying out the process of how we've approached the use case by researching successful customer portfolio solutions as the basis for a generic architectural blueprint. Having completed our discussions on the logical view of the blueprint, it's now time to look at a specific example. This article walks you through an example headless e-commerce platform scenario showing how expanding the previously discussed elements provides a blueprint for your own headless e-commerce scenarios. BLUEPRINTS REVIEW As mentioned before, the architectural details covered here are base on real solutions using open source technologies. The example scenario presented here is a generic common blueprint that was uncovered researching those solutions. It's our intent to provide a blueprint that provides guidance and not deep technical details. This section covers the visual representations as presented, but it's expected that they'll be evolving based on future research. There are many ways to represent each element in this architectural blueprint, but we've chosen a format that we hope makes it easy to absorb. Feel free to post comments at the bottom of this post, or  with your feedback. Now let's take a look at the details in this blueprint and outline the solution for two approaches to delivering a cloud-native approach. HEADLESS WITH LOCAL CONTAINER ARCHITECTURE The first of the two architecture examples focuses on two tasks within this architecture. First, the cloud-native approach to delivery using local container tooling and second, on the elements delivered to provide for a loosely coupled headless e-commerce platform experience. A close examination shows that we have a Developer collection of elements, one for the Dev infrastructure, and a final one on the right for the Test infrastructure hosted by a container platform. The rest of this section outlines each element shown and describes how a developer using local container tooling delivers from their development environment, through a development infrastructure on to the test infrastructure. The reader is left to work out the cycles needed to get from test to production. Starting with the developers collection of tools, we find everything needed for them to design, develop, and preview testing of their applications. There are runtimes, maven repository, source code management system most often git-based, and of course the container tooling. Note that there are several ways to trigger the push of new code to the dev infrastructure, using git hooks, maven plugins, or file uploads from the container tooling.  That previously mentioned push of the finished code kicks off a build in the dev CI/CD element to generate an image that's added to the image repository. From this image an instance is spun up in the dev infrastructure for testing and should it pass it's then tagged as tested and copied by the registry management element to the next infrastructure level. Incoming images for the test infrastructure are copied into the image registry for deployment into the test container platform. In this level we see some of the key elements in our headless e-commerce solution. In the lighter box we see frontend microservices, messaging, and integration data microservices. These are providing services to frontend applications, message transformation and delivery, and communications with data sources.  After that there are a few customer focused elements; customer brand adapter microservices, customer composite microservices, customer core microservices, and customer anti-corruption microservices. Each of these collections of services help support applications as they interact with customers in the e-commerce experience.  Finally, there are the integration microservices that ensure communication with other parts of the organisations backend systems and, in the example included here, with the testing interface. A tester is shown using api management to authorise and authenticate access to a web application that provides a test experience with the headless e-commerce deployment found on the test infrastructure. Next up, a look at the architectural solution with development teams using remote container tooling. HEADLESS WITH REMOTE CONTAINER ARCHITECTURE This second architecture example is presenting the cloud-native approach to delivery using remote container tooling, followed by the elements providing a loosely coupled headless e-commerce platform experience. First off let's define this remote container tooling and what it means. The difference when using remote container tooling is fully integrating with a container platform from the developer through to production. Local container tooling requires an integration point where you copy the tested application image using special tools from the developer infrastructure image registry to the container platform image registry.  Now that we're clear on the subject at hand, let's start once again on the right of the above architecture and explore what developers are using to design, develop, and preview testing of their applications. There are runtimes, maven repository, source code management system most often git-based, and of course the container tooling. This container tooling is specifically focused on a container platform and is using the OpenShift client tooling so that developers are working directly with a development cluster just like every level of the infrastructure through to production. This is shown in the above image as the developer infrastructure consists of a container platform and a container platform CI/CD. The developer still has options on how to trigger the push of new code to the dev infrastructure, using git hooks, maven plugins, or oc client tooling.  As a side note, it's also an option to place the above shown development infrastructure directly on the local machine of the developer. For examples of how this works, please explore the and some of the demo projects found on . When the developer pushes their code it's shown here heading to the container platform CI/CD where a source to image S2I workflow build process triggers. The CI/CD platform manages this build and if successful creates a development tagged image that's put into the container platform image registry. The development image is automatically deployed into the dev container platform and the developer can continue testing and development until it's ready for promotion to the next environment. Note developer access is shown here using API management as that's the same headless e-commerce application setup to be found in production. When all development testing has finished the CI/CD platform element tags the resulting image as testImage and it's pushed into the test container platform's image registry. This automatically deploys the headless e-commerce images to the test infrastructure and testing can proceed on the application and services as before. Again, we see some of the key elements of our headless e-commerce solution. In the lighter box we see frontend microservices, messaging, and integration data microservices. These are providing services to frontend applications, message transformation and delivery, and communications with data sources.  After that there are a few customer focused elements; customer brand adapter microservices, customer composite microservices, customer core microservices, and customer anti-corruption microservices. Each of these collections of services help support applications as they interact with customers in the e-commerce experience.  Finally, there are the integration microservices that ensure communication with other parts of the organisations backend systems and, in the example included here, with the testing interface. A tester is shown using api management to authorise and authenticate access to a web application that provides a test experience with the headless e-commerce deployment found on the test infrastructure.  Further deployment through to an acceptance and production infrastructure is similar to the process shown and described here above. For simplicity and to provide an overview of the solution we've chosen to model development to testing only. WHAT'S NEXT This was just a short overview of the common generic elements that make up our architecture blueprint for the headless e-commerce use case.  An overview of this series on the headless e-commerce portfolio architecture blueprint can be found here: 1. 2. 3. Catch up on any articles you missed by following one of the links above. This completes the series and we hope you enjoyed this architecture blueprint for headless e-commerce in retail. (Article co-authored by , Chief Architect Retail, Red Hat)&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/nvFvbPaPew4" height="1" width="1" alt=""/&gt;</content><dc:creator>Eric D. Schabell</dc:creator><feedburner:origLink>http://feedproxy.google.com/~r/schabell/jboss/~3/A556GImiPmU/headless-ecommerce-example-headless-architectures.html</feedburner:origLink></entry><entry><title>Containerize and deploy Strapi applications on Kubernetes and Red Hat OpenShift</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/LW4jocGRXEk/" /><category term="Containers" /><category term="JavaScript" /><category term="Kubernetes" /><category term="Node.js" /><category term="containerization" /><category term="Deploying Strapi" /><category term="openshift" /><category term="Strapi" /><author><name>Joel Lord</name></author><id>https://developers.redhat.com/blog/?p=874347</id><updated>2021-04-09T07:00:16Z</updated><published>2021-04-09T07:00:16Z</published><content type="html">&lt;p&gt;&lt;a target="_blank" rel="nofollow" href="https://strapi.io/"&gt;Strapi&lt;/a&gt; is the leading open-source headless content management system (CMS). It’s 100% &lt;a target="_blank" rel="nofollow" href="/topics/javascript"&gt;JavaScript&lt;/a&gt;, fully customizable, and takes a developer-first approach. Strapi provides you with an interface to create and manage all the resources for your website. You can then build a front end to connect to your Strapi API with your favorite tools and frameworks. Content editors can use the friendly administration panel to manage and distribute content. Strapi is also based on a plugin system, which makes the CMS flexible and extensible.&lt;/p&gt; &lt;p&gt;Once you&amp;#8217;ve built your resources with Strapi&amp;#8217;s administration panel and designed a nice front end to serve the content, you will need to deploy the application somewhere. This article shows you how to deploy a Strapi application on a &lt;a target="_blank" rel="nofollow" href="/topics/kubernetes"&gt;Kubernetes&lt;/a&gt; or &lt;a target="_blank" rel="nofollow" href="/products/openshift/overview"&gt;Red Hat OpenShift&lt;/a&gt; cluster.&lt;/p&gt; &lt;h2&gt;Step 1: Set up the development environment&lt;/h2&gt; &lt;p&gt;To use Strapi in a containerized development environment, you will need three independent containers: One to run the database, another for Strapi, and one for the front end. This section shows you how to set up the three containers you will use in development.&lt;/p&gt; &lt;h3&gt;Initial setup&lt;/h3&gt; &lt;p&gt;The database and back-end servers must be able to communicate. You can use a Docker network for this communication. Create your network with the following command:&lt;/p&gt; &lt;pre&gt;$ docker network create strapi &lt;/pre&gt; &lt;p&gt;You will also need three folders to hold the data from your containers. Here is the command to create the &lt;code&gt;/data&lt;/code&gt;, &lt;code&gt;/app&lt;/code&gt;, and &lt;code&gt;/front&lt;/code&gt; folders:&lt;/p&gt; &lt;pre&gt;$ mkdir ./data &amp;#38;&amp;#38; mkdir ./app &amp;#38;&amp;#38; mkdir ./front &lt;/pre&gt; &lt;h3&gt;Create the database container&lt;/h3&gt; &lt;p&gt;To start a Strapi instance, you will need a database to persist your data. In this example, we&amp;#8217;ll use a MySQL database server running inside a container. This way, there is no need to go through the process of installing MySQL.&lt;/p&gt; &lt;p&gt;To run the server, you can use the &lt;code&gt;docker run&lt;/code&gt; command with the &lt;code&gt;-d&lt;/code&gt; argument to run in the background. Include the following parameters:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;i&gt;&lt;code&gt;--name&lt;/code&gt; to name the container.&lt;/i&gt;&lt;/li&gt; &lt;li&gt;&lt;code&gt;-v&lt;/code&gt; to specify a folder to contain the data to reuse the next time you start the server.&lt;/li&gt; &lt;li&gt;&lt;code&gt;-e&lt;/code&gt; to set up the environment variables to configure the database.&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;The command to start the container should look like this:&lt;/p&gt; &lt;pre&gt;$ docker run --rm -d --name strapi-db -v $(pwd)/data:/var/lib/mysql:z --network=strapi -e MYSQL_DATABASE=strapi -e MYSQL_USER=strapi -e MYSQL_PASSWORD=strapi -e MYSQL_ROOT_PASSWORD=strapi-admin mysql:5.7 &lt;/pre&gt; &lt;p&gt;Note that we use the &lt;code&gt;--network&lt;/code&gt; parameter to connect the database container to the network we created earlier.&lt;/p&gt; &lt;p&gt;After executing this command, try a &lt;code&gt;docker ps&lt;/code&gt; to validate that the container has started.&lt;/p&gt; &lt;h3&gt;Create the back-end container&lt;/h3&gt; &lt;p&gt;Now that you&amp;#8217;ve configured the database, you can start your &lt;code&gt;strapi&lt;/code&gt; instance, which will run from a container. This time, you will use the &lt;code&gt;strapi/strapi&lt;/code&gt; base image. You can still use the &lt;code&gt;-d&lt;/code&gt; argument to run it in the background and &lt;code&gt;--name&lt;/code&gt; to name your container. Be sure to also add the Strapi container to the same network as the database.&lt;/p&gt; &lt;p&gt;You should also map your local &lt;code&gt;/app&lt;/code&gt; folder to &lt;code&gt;/srv/app&lt;/code&gt;:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Use the &lt;code&gt;-v&lt;/code&gt; parameter so that you can persist the files created by Strapi using a local folder on your machine.&lt;/li&gt; &lt;li&gt;Map a port on your operating system to access port 1337 inside the container. If you are using port 8080, the address to connect to the Strapi admin console will be &lt;code&gt;localhost:8080&lt;/code&gt;.&lt;/li&gt; &lt;li&gt;Configure Strapi to use the database you started in the previous step using environment variables.&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Here is the command to start the Strapi back-end container:&lt;/p&gt; &lt;pre&gt;$ docker run --rm -d --name strapi-dev -p 8080:1337 -v $(pwd)/app:/srv/app:z --network=strapi -e DATABASE_CLIENT=mysql -e DATABASE_NAME=strapi -e DATABASE_HOST=strapi-db -e DATABASE_PORT=3306 -e DATABASE_USERNAME=strapi -e DATABASE_PASSWORD=strapi strapi/strapi &lt;/pre&gt; &lt;p&gt;If Strapi can&amp;#8217;t find any files in the local file system that you mapped, it will automatically create a new instance of a Strapi server. This can take a few minutes. You can use &lt;code&gt;docker logs&lt;/code&gt; to keep an eye on the application creation status:&lt;/p&gt; &lt;pre&gt;$ docker logs -f strapi-dev &lt;/pre&gt; &lt;p&gt;If you want to stop the logs in your console, enter &lt;b&gt;Ctrl-C&lt;/b&gt;.&lt;/p&gt; &lt;p&gt;Once you see a message stating that your Strapi server is started, you can go to &lt;a target="_blank" rel="nofollow" href="http://localhost:8080/admin"&gt;http://localhost:8080/admin&lt;/a&gt; to create your admin user.&lt;/p&gt; &lt;p&gt;After you&amp;#8217;ve created the admin user, go ahead and create a new content type and make it publicly available. For content to work with in the next step, create a &lt;b&gt;Content-Type&lt;/b&gt; for &lt;b&gt;Posts&lt;/b&gt;. It will have four fields: &lt;b&gt;title&lt;/b&gt;, &lt;b&gt;author&lt;/b&gt; (a relationship to &lt;b&gt;Users&lt;/b&gt;), &lt;b&gt;publish_date&lt;/b&gt;, and &lt;b&gt;content&lt;/b&gt;, as shown in Figure 1.&lt;/p&gt; &lt;div id="attachment_893687" style="width: 650px" class="wp-caption aligncenter"&gt;&lt;a href="https://developers.redhat.com/blog/wp-content/uploads/2021/04/Screenshot_20210408_120444.png"&gt;&lt;img aria-describedby="caption-attachment-893687" class="wp-image-893687 size-large" src="https://developers.redhat.com/blog/wp-content/uploads/2021/04/Screenshot_20210408_120444-1024x553.png" alt="The Posts content type has four fields: Title, Author, Publish_date, and Content." width="640" height="346" srcset="https://developers.redhat.com/blog/wp-content/uploads/2021/04/Screenshot_20210408_120444-1024x553.png 1024w, https://developers.redhat.com/blog/wp-content/uploads/2021/04/Screenshot_20210408_120444-300x162.png 300w, https://developers.redhat.com/blog/wp-content/uploads/2021/04/Screenshot_20210408_120444-768x415.png 768w" sizes="(max-width: 640px) 100vw, 640px" /&gt;&lt;/a&gt;&lt;p id="caption-attachment-893687" class="wp-caption-text"&gt;Figure 1: The new content type with four fields for posts.&lt;/p&gt;&lt;/div&gt; &lt;p style="padding-left: 40px"&gt;&lt;b&gt;Note&lt;/b&gt;: See &lt;a target="_blank" rel="nofollow" href="https://www.youtube.com/watch?v=VC9X9O5OFyc"&gt;this video&lt;/a&gt; from the &lt;a target="_blank" rel="nofollow" href="https://strapi.io"&gt;Strapi&lt;/a&gt; team for a full tutorial about creating new content types.&lt;/p&gt; &lt;h3&gt;Create the front-end container&lt;/h3&gt; &lt;p&gt;Next up, you will create a front end. This user interface (UI) will consist of a simple HTML file that fetches the Strapi application programming interface (API) data and displays it on the page.&lt;/p&gt; &lt;p&gt;We&amp;#8217;ll use a Nginx server to display the content. You can start the container similarly to how you started the other two. This time, map port 80 in the container to port 8888 on your local machine and mount the &lt;code&gt;/front&lt;/code&gt; folder to map to &lt;code&gt;/usr/share/nginx/html&lt;/code&gt; inside your container. The &lt;code&gt;/front&lt;/code&gt; folder is the default folder to serve files from with Nginx:&lt;/p&gt; &lt;pre&gt;$ docker run --rm -d --name strapi-front -p 8888:80 -v $(pwd)/front:/usr/share/nginx/html:z nginx:1.17 &lt;/pre&gt; &lt;p&gt;Now, go ahead and create your front-end application. You might use a React, VueJS, or Angular application, but we&amp;#8217;ll use a simple HTML file for this demo. The file will do a &lt;code&gt;fetch&lt;/code&gt; from the Strapi API to download the data and then create the necessary elements on the page using JavaScript.&lt;/p&gt; &lt;p&gt;The HTML page will have a single &lt;code&gt;div&lt;/code&gt; where the JavaScript code appends the API&amp;#8217;s content. Create the following &lt;code&gt;index.html&lt;/code&gt; file in the &lt;code&gt;/front&lt;/code&gt; folder:&lt;/p&gt; &lt;pre&gt;&amp;#60;body&amp;#62; &amp;#60;div id="content"&amp;#62;&amp;#60;/div&amp;#62; &amp;#60;/body&amp;#62; &lt;/pre&gt; &lt;p&gt;You will need to add a &lt;code&gt;script&lt;/code&gt; tag to include a configuration file, which will make it easier to overwrite your Strapi API location later. Add the following inside the &lt;code&gt;index.html&lt;/code&gt;:&lt;/p&gt; &lt;pre&gt;&amp;#60;script type="text/javascript" src="config.js"&amp;#62; &lt;/pre&gt; &lt;p&gt;The &lt;code&gt;front/config.js&lt;/code&gt; file should create a global constant with the following configuration:&lt;/p&gt; &lt;pre&gt;const config = { BASE_URL: "http://localhost:8080" } &lt;/pre&gt; &lt;p&gt;Finally, in the &lt;code&gt;index.html&lt;/code&gt; file, add another &lt;code&gt;script&lt;/code&gt; tag that contains the code to download the content and display it on the page:&lt;/p&gt; &lt;pre&gt;window.addEventListener("DOMContentLoaded", e =&amp;#62; { console.log("Loading content from Strapi"); const BASE_URL = config.BASE_URL; const BLOG_POSTS_URL = `${BASE_URL}/posts`; fetch(BLOG_POSTS_URL).then(resp =&amp;#62; resp.json()).then(posts =&amp;#62; { for(let i = 0; i &amp;#60; posts.length; i++) { let postData = posts[i]; let post = document.createElement("div"); let title = document.createElement("h2"); title.innerText = postData.title; let author = document.createElement("h3"); author.innerText = `${postData.author.firstname} ${postData.author.lastname} -- ${postData.publish_date}`; let content = document.createElement("div"); content.innerText = postData.content; post.appendChild(title); post.appendChild(author); post.appendChild(content); document.querySelector("#content").appendChild(post); } }); }); &lt;/pre&gt; &lt;p&gt;Now that you&amp;#8217;ve created all the files go to &lt;a target="_blank" rel="nofollow" href="http://localhost:8888/"&gt;http://localhost:8888&lt;/a&gt; to see your application. You should see your fancy UI serving content from Strapi.&lt;/p&gt; &lt;h2&gt;Step 2: Set up the production environment&lt;/h2&gt; &lt;p&gt;When you are ready to deploy your application, you will need to create your own containers that contain all the necessary files and data. These containers will go live on the web.&lt;/p&gt; &lt;p&gt;For each container, you will need to create a Dockerfile. You will use the Dockerfiles to create your containers with the actual content. Then, you&amp;#8217;ll deploy the containers to Kubernetes or OpenShift.&lt;/p&gt; &lt;h3&gt;Create the database container&lt;/h3&gt; &lt;p&gt;There is a good chance that you already have a database in production, and you probably won&amp;#8217;t want to overwrite its contents. For this reason, you will use the same default MySQL image that you used in development for the production database. If you want to import the SQL content later, you can use Docker to run a &lt;code&gt;mysqldump&lt;/code&gt; command on your database:&lt;/p&gt; &lt;pre&gt;$ docker exec strapi-db /bin/bash -c 'mysqldump strapi -ustrapi -pstrapi' | tee strapi-db.sql &lt;/pre&gt; &lt;p&gt;This file will be imported into the production database later if it&amp;#8217;s needed.&lt;/p&gt; &lt;p style="padding-left: 40px"&gt;&lt;b&gt;Note&lt;/b&gt;: The &lt;code&gt;mysqldump&lt;/code&gt; command uses &lt;code&gt;tee&lt;/code&gt; to copy the contents to a file. If you don&amp;#8217;t have the &lt;code&gt;tee&lt;/code&gt; command, you can copy the &lt;code&gt;docker&lt;/code&gt; command&amp;#8217;s output into a file named &lt;code&gt;strapi-db.sql&lt;/code&gt;.&lt;/p&gt; &lt;h3&gt;Create the back-end container&lt;/h3&gt; &lt;p&gt;Next, you will create a &lt;code&gt;Dockefile.back&lt;/code&gt; to build your container for the back end.&lt;/p&gt; &lt;p&gt;Start from the &lt;code&gt;strapi&lt;/code&gt; base image &lt;code&gt;FROM strapi/base&lt;/code&gt;. Change the working directory to &lt;code&gt;/opt/app&lt;/code&gt; and copy all the local files into the container. Next, expose port 1337 and set all your environment variables. Don&amp;#8217;t forget to add an environment variable for &lt;code&gt;NODE_ENV=production&lt;/code&gt;. Finally, execute &lt;code&gt;yarn build&lt;/code&gt; to build all the production resources and use the &lt;code&gt;CMD&lt;/code&gt; command to start the back end once the container is started.&lt;/p&gt; &lt;p style="padding-left: 40px"&gt;&lt;b&gt;Note&lt;/b&gt;: For more about using the Strapi base image, see the &lt;a target="_blank" rel="nofollow" href="https://github.com/strapi/strapi-docker#how-to-use-strapibase"&gt;Strapi documentation on GitHub&lt;/a&gt;.&lt;/p&gt; &lt;pre&gt;FROM strapi/base WORKDIR /opt/app COPY ./app/package.json ./ COPY ./app/yarn.lock ./ RUN yarn install COPY ./app . ENV NODE_ENV production ENV DATABASE_CLIENT=mysql ENV DATABASE_NAME=strapi ENV DATABASE_HOST=strapi-db ENV DATABASE_PORT=3306 ENV DATABASE_USERNAME=strapi ENV DATABASE_PASSWORD=strapi RUN yarn build EXPOSE 1337 CMD ["yarn", "start"] &lt;/pre&gt; &lt;h3&gt;Create the front-end container&lt;/h3&gt; &lt;p&gt;You&amp;#8217;ll have to do a bit of bash scripting to use an environment variable to specify your Strapi server&amp;#8217;s URL.&lt;/p&gt; &lt;p style="padding-left: 40px"&gt;&lt;b&gt;Note&lt;/b&gt;: See my &lt;a target="_blank" rel="nofollow" href="/blog/2021/03/04/building-rootless-containers-for-javascript-front-ends/"&gt;best practices for JavaScript front-end containers&lt;/a&gt; for more about using environment variables with front-end containers.&lt;/p&gt; &lt;p&gt;First, start with the &lt;code&gt;nginx:1.17&lt;/code&gt; base image and change the working directory to &lt;code&gt;/usr/share/nginx/html&lt;/code&gt;. In there, copy all the files from your local system into the container.&lt;/p&gt; &lt;p&gt;The next step involves using &lt;code&gt;sed&lt;/code&gt; to change the &lt;code&gt;BASE_URL&lt;/code&gt; value to &lt;code&gt;$BASE_URL&lt;/code&gt;. Then, you will pipe in the result to a new file called &lt;code&gt;config.new.js&lt;/code&gt; and rename the file to &lt;code&gt;config.js&lt;/code&gt;, overwriting the original.&lt;/p&gt; &lt;p&gt;The result inside the container is a new &lt;code&gt;config.js&lt;/code&gt; file that looks like the one below. Note that the original file in your local file system is left intact:&lt;/p&gt; &lt;pre&gt;const config = { BASE_URL: "$BASE_URL" } &lt;/pre&gt; &lt;p&gt;Finally, you will need to use &lt;code&gt;envsubst&lt;/code&gt; to change the value of &lt;code&gt;$BASE_URL&lt;/code&gt; to the environment variable&amp;#8217;s actual value. Make the following updates in the &lt;code&gt;ENTRYPOINT&lt;/code&gt;, so the changes will happen when someone issues a Docker run:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Use a &lt;code&gt;cat&lt;/code&gt; command to pipe the &lt;code&gt;config.js&lt;/code&gt; file into &lt;code&gt;envsubst&lt;/code&gt;.&lt;/li&gt; &lt;li&gt;Pipe the output to &lt;code&gt;tee&lt;/code&gt; to create a new &lt;code&gt;config.new.js&lt;/code&gt; file and rename the file to overwrite the previous one.&lt;/li&gt; &lt;li&gt;Use the&lt;code&gt;nginx -g 'daemon off;'&lt;/code&gt; command to start the Nginx server: &lt;pre&gt;FROM nginx:1.17 WORKDIR /usr/share/nginx/html COPY ./front/*.* ./ RUN sed s/BASE_URL\:\ \"[a-zA-Z0-9:\/]*\"/BASE_URL\:\ \"\$BASE_URL\"/g config.js &amp;#62; config.new.js &amp;#38;&amp;#38; mv config.new.js config.js ENTRYPOINT cat config.js | envsubst | tee config.new.js &amp;#38;&amp;#38; mv config.new.js config.js &amp;#38;&amp;#38; nginx -g 'daemon off;' &lt;/pre&gt; &lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Updating the entry point instead of a &lt;code&gt;RUN&lt;/code&gt; lets you specify different values for the base URL according to where the container is running.&lt;/p&gt; &lt;h3&gt;Build the containers&lt;/h3&gt; &lt;p&gt;Now that you have all your Dockerfiles ready, you can build the containers and push them to your favorite image registry. Don&amp;#8217;t forget to change the name of your images to use your username for that registry:&lt;/p&gt; &lt;pre&gt;$ docker build -t $DOCKER_USERNAME/strapi-front -f Dockerfile.front . $ docker build -t $DOCKER_USERNAME/strapi-back -f Dockerfile.back . $ docker push $DOCKER_USERNAME/strapi-front $ docker push $DOCKER_USERNAME/strapi-back &lt;/pre&gt; &lt;h2&gt;Step 3: Package and run the application&lt;/h2&gt; &lt;p&gt;Now that you have containers with all of your code and data, you are ready to deploy the containers somewhere. We&amp;#8217;ll use Docker and Docker Compose to run the application and a Kubernetes or OpenShift cluster to deploy it.&lt;/p&gt; &lt;h3&gt;Package and run the application with Docker&lt;/h3&gt; &lt;p&gt;If you want to run this application, you can start all the containers in the same way you would in production.&lt;/p&gt; &lt;p&gt;The commands to start the containers are similar to those you used in development mode, but &lt;i&gt;with&lt;/i&gt; the mounted volumes and &lt;i&gt;without&lt;/i&gt; the environment variables. We handled the source code and environment variables in the Dockerfile. Note that we add an environment variable specifying the location of the Strapi API for starting the front end:&lt;/p&gt; &lt;pre&gt;$ docker run --rm -d --name strapi-db -v $(pwd)/data:/var/lib/mysql:z --network=strapi -e MYSQL_DATABASE=strapi -e MYSQL_USER=strapi -e MYSQL_PASSWORD=strapi -e MYSQL_ROOT_PASSWORD=strapi-admin mysql:5.7 $ docker run --rm -d --name strapi -p 1337:1337 --network=strapi $DOCKER_USERNAME/strapi-back $ docker run --rm -d --name strapi-front -p 8080:80 -e BASE_URL=http://localhost:1337 $DOCKER_USERNAME/strapi-front &lt;/pre&gt; &lt;h3&gt;Package and run the application with Docker Compose&lt;/h3&gt; &lt;p&gt;If you want to share your application code and configurations with anyone else, you could provide them with a &lt;code&gt;docker-compose.yaml&lt;/code&gt; file. This tool lets you manage multiple containers at once without multiple bash commands:&lt;/p&gt; &lt;pre&gt;version: '3' services: strapi-db: image: mysql:5.7 volumes: - ./data:/var/lib/mysql networks: - strapi strapi-back: image: $DOCKER_USERNAME/strapi-back ports: - '1337:1337' networks: - strapi strapi-front: image: $DOCKER_USERNAME/strapi-front ports: - '8080:80' environment: BASE_URL: http://localhost:1337 networks: strapi: &lt;/pre&gt; &lt;h2&gt;Step 4: Deploy the application&lt;/h2&gt; &lt;p&gt;Once you&amp;#8217;ve created all of your containers, you can deploy the application into a Kubernetes or OpenShift cluster. I&amp;#8217;ll show you how to do both.&lt;/p&gt; &lt;h3&gt;Deploy the application on Kubernetes&lt;/h3&gt; &lt;p&gt;Before deploying your application in a Kubernetes cluster, you will need to use YAML files to create all the necessary assets. For more details on each of these assets, see &lt;a target="_blank" rel="nofollow" href="http://kubernetesbyexample.com/"&gt;&lt;em&gt;Kubernetes by example&lt;/em&gt;&lt;/a&gt;. To test out the deployment, you can use a smaller version of Kubernetes to run locally on your own machine. I&amp;#8217;ve used &lt;a target="_blank" rel="nofollow" href="https://kubernetes.io/docs/tutorials/hello-minikube/"&gt;Minikube&lt;/a&gt; for the following examples.&lt;/p&gt; &lt;h4&gt;Deploying the database&lt;/h4&gt; &lt;p&gt;The setup for &lt;a target="_blank" rel="nofollow" href="https://kubernetesbyexample.com/pv/"&gt;persistent volumes&lt;/a&gt; (PVs) and persistent volume claims (PVCs) varies from one cloud provider to another. For this reason, the database in this example will not persist data. For more information about how to persist data, check your cloud provider&amp;#8217;s documentation.&lt;/p&gt; &lt;p&gt;For the database, we will need to create a &lt;a target="_blank" rel="nofollow" href="https://kubernetesbyexample.com/deployments/"&gt;deployment&lt;/a&gt;. You will start by creating a YAML file that describes your deployment. You can give it a name, and in the spec, you will create a template for the pods. Each pod will have a single container, which will be the ones that you&amp;#8217;ve pushed to your registry. Here is the deployment for this example (&lt;code&gt;deploy-db.yaml&lt;/code&gt;):&lt;/p&gt; &lt;pre&gt;apiVersion: apps/v1 kind: Deployment metadata: name: strapi-db spec: selector: matchLabels: component: db template: metadata: labels: component: db spec: containers: - name: strapi-db image: mysql:5.7 env: - name: MYSQL_DATABASE value: strapi - name: MYSQL_USER value: strapi - name: MYSQL_PASSWORD value: strapi - name: MYSQL_ROOT_PASSWORD value: strapi-admin &lt;/pre&gt; &lt;p&gt;Once you have your file, you can apply it to your cluster using &lt;code&gt;kubectl&lt;/code&gt;:&lt;/p&gt; &lt;pre&gt;$ kubectl apply -f ./deploy-db.yaml &lt;/pre&gt; &lt;h4&gt;Deploying the back end&lt;/h4&gt; &lt;p&gt;Your back end needs to be able to find the pods inside the cluster, so you will need to create a &lt;a target="_blank" rel="nofollow" href="https://kubernetesbyexample.com/services/"&gt;Service&lt;/a&gt; to expose each pod. We are using the defaults here, so you can use &lt;code&gt;kubectl&lt;/code&gt; to create this service:&lt;/p&gt; &lt;pre&gt;$ kubectl expose deployment strapi-db --port 3306 &lt;/pre&gt; &lt;p&gt;If you want to import data from your development environment SQL, you can run the following commands:&lt;/p&gt; &lt;pre&gt;$ kubectl cp ./strapi-db.sql $(kubectl get pod -l component=db | awk 'NR&amp;#62;1 {print $1}'):/tmp/strapi-db.sql $ kubectl exec -t $(kubectl get pod -l component=db | awk 'NR&amp;#62;1 {print $1}') -- /bin/bash -c 'mysql strapi -ustrapi -pstrapi &amp;#60; /tmp/strapi-db.sql' &lt;/pre&gt; &lt;p&gt;These commands copy the SQL file to the pods, then run a MySQL command to run it in the database.&lt;/p&gt; &lt;p&gt;You can also create your deployments for the back- and front-end portions of your application. The Strapi back end (&lt;code&gt;deploy-back.yaml&lt;/code&gt;) is the same as the database deployment, apart from the name, label, and container image:&lt;/p&gt; &lt;pre&gt;apiVersion: apps/v1 kind: Deployment metadata: name: strapi-back spec: selector: matchLabels: app: strapi component: back template: metadata: labels: app: strapi component: back spec: containers: - name: strapi-back image: joellord/strapi-back &lt;/pre&gt; &lt;h4&gt;Deploying the front end&lt;/h4&gt; &lt;p&gt;The front end (&lt;code&gt;deploy-front.yaml&lt;/code&gt;) uses a similar structure to the back end, but you also need to set the environment variable for the back end&amp;#8217;s &lt;code&gt;BASE_URL&lt;/code&gt;. For now, just set that variable&amp;#8217;s value to &lt;code&gt;/api&lt;/code&gt;. You also need to expose the container to port 80 so that it will be available to the outside world eventually:&lt;/p&gt; &lt;pre&gt;apiVersion: apps/v1 kind: Deployment metadata: name: strapi-front spec: selector: matchLabels: component: front template: metadata: labels: component: front spec: containers: - name: front image: joellord/strapi-front ports: - containerPort: 80 env: - name: BASE_URL value: /api &lt;/pre&gt; &lt;h4&gt;Create and expose the application services in your cluster&lt;/h4&gt; &lt;p&gt;Now that you&amp;#8217;ve created your deployment files, you can apply them to your cluster and create the services for each one:&lt;/p&gt; &lt;pre&gt;$ kubectl apply -f ./deploy-back.yaml $ kubectl apply -f ./deploy-front.yaml $ kubectl expose deployment strapi-back --port 1337 $ kubectl expose deployment strapi-front --port 80 &lt;/pre&gt; &lt;p&gt;Everything is now running inside your cluster. You only need to expose the front- and back-end services to the outside world. For this, you will use an &lt;a target="_blank" rel="nofollow" href="https://kubernetes.io/docs/concepts/services-networking/ingress/"&gt;ingress&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;Here, you will create an ingress that exposes the front end as the default service. Any incoming request to your cluster then goes to the front end by default. You will also add a rule that redirects any traffic sent to  &lt;code&gt;/api/*&lt;/code&gt; to the back-end service. The request will be rewritten when it&amp;#8217;s sent to that service to remove the &lt;code&gt;/api&lt;/code&gt; part of the URL. We&amp;#8217;ll add a Nginx annotation in the metadata to effect this change. Here is the &lt;code&gt;ingress.yaml&lt;/code&gt; file:&lt;/p&gt; &lt;pre&gt;apiVersion: networking.k8s.io/v1 kind: Ingress metadata: name: main-ingress annotations: nginx.ingress.kubernetes.io/rewrite-target: /$2 spec: rules: - http: paths: - path: /api(/|$)(.*) pathType: Prefix back end: service: name: strapi-back port: number: 1337 - path: /()(.*) pathType: Prefix backend: service: name: strapi-front port: number: 80 &lt;/pre&gt; &lt;p&gt;Go ahead and apply this file to your cluster. You might need to enable the following add-on if you are using Minikube and have never used an ingress before:&lt;/p&gt; &lt;pre&gt;# For minikube users $ minikube addons enable ingress $ kubectl apply -f ./ingress.yaml &lt;/pre&gt; &lt;p&gt;You now have everything needed to run your Strapi application in a Kubernetes cluster. Point your browser to the cluster URL, and you should see the full application running in your cluster. If you&amp;#8217;re using Minikube, you can use the command &lt;code&gt;minikube ip&lt;/code&gt; to get your cluster&amp;#8217;s address.&lt;/p&gt; &lt;h3&gt;Deploy the application on OpenShift&lt;/h3&gt; &lt;p&gt;Deploying the application on OpenShift can be even easier than deploying in a Kubernetes cluster.&lt;/p&gt; &lt;p&gt;In this case, you can test out your deployment with the &lt;a target="_blank" rel="nofollow" href="/developer-sandbox"&gt;Developer Sandbox&lt;/a&gt;, which gives you access to an OpenShift cluster for free for 14 days.&lt;/p&gt; &lt;h4&gt;Create the deployment from an image&lt;/h4&gt; &lt;p&gt;The command-line interface (CLI) tool that you use to manage your cluster (&lt;code&gt;oc&lt;/code&gt;) can create a deployment directly from an image. To deploy your application, enter:&lt;/p&gt; &lt;pre&gt;$ oc new-app mysql:5.7 MYSQL_USER=strapi MYSQL_PASSWORD=strapi MYSQL_DATABASE=strapi -l component=db --name strapi-db $ oc new-app joellord/strapi-back-openshift --name strapi-back $ oc new-app joellord/strapi-front-openshift --name strapi-front &lt;/pre&gt; &lt;p&gt;&lt;b&gt;Note&lt;/b&gt;: Images on OpenShift need to be run as a non-root user. See my &lt;a target="_blank" rel="nofollow" href="https://github.com/joellord/frontend-containers"&gt;guide to front-end best practices&lt;/a&gt; for more about non-root images. The Dockerfiles used for this project can be found in the &lt;a target="_blank" rel="nofollow" href="https://github.com/joellord/strapi"&gt;Git repository for this article&lt;/a&gt; under &lt;code&gt;Dockerfile.rootless.back&lt;/code&gt; and &lt;code&gt;Dockerfile.rootless.front&lt;/code&gt;.&lt;/p&gt; &lt;div&gt; &lt;div&gt;Seed your database with the data that you exported earlier. This data should be in your current working directory and have the name &lt;code&gt;strapi-db.sql&lt;/code&gt;.&lt;/div&gt; &lt;pre&gt;$ oc exec -it $(oc get pods -l component=db | awk 'NR&amp;#62;1 {print $1}') -c strapi-db -- bash -c 'mysql -ustrapi -pstrapi strapi' &amp;#60; ./strapi-db.sql&lt;/pre&gt; &lt;/div&gt; &lt;h4&gt;Expose the application&lt;/h4&gt; &lt;p&gt;Next, you&amp;#8217;ll want to expose the application to the outside world. OpenShift has a neat object for this purpose, &lt;code&gt;Route&lt;/code&gt;, which you can use from the OpenShift CLI. Use the &lt;code&gt;oc expose&lt;/code&gt; command to expose the back- and front-end to the outside world:&lt;/p&gt; &lt;pre&gt;$ oc expose service strapi-back $ oc expose service strapi-front --port=8080 &lt;/pre&gt; &lt;p&gt;Now that your back end is exposed, you will need to set your front-end environment variable to the back-end route. Start by getting the public route for the Strapi API:&lt;/p&gt; &lt;pre&gt;$ oc get routes &lt;/pre&gt; &lt;p&gt;You should see all the routes that you&amp;#8217;ve created so far. You can store the back-end route in a variable and then set it as an environment variable using &lt;code&gt;oc set env&lt;/code&gt;:&lt;/p&gt; &lt;pre&gt;$ export BACKEND_ROUTE=$(oc get routes | grep strapi-back | awk '{print $2}') $ oc set env deployment/strapi-front BASE_URL=http://$BACKEND_ROUTE &lt;/pre&gt; &lt;p&gt;You can now access your Strapi application using the route for the &lt;code&gt;strapi-front&lt;/code&gt; service.&lt;/p&gt; &lt;h2&gt;Summary&lt;/h2&gt; &lt;p&gt;When you are ready to put your Strapi application in production, the first step will be to containerize your whole setup. Once you have that done, you can deploy those containers in Kubernetes. You&amp;#8217;ve also seen how easy it is to deploy a Strapi application to OpenShift.&lt;/p&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F09%2Fcontainerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift%2F&amp;#38;linkname=Containerize%20and%20deploy%20Strapi%20applications%20on%20Kubernetes%20and%20Red%20Hat%20OpenShift" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F09%2Fcontainerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift%2F&amp;#38;linkname=Containerize%20and%20deploy%20Strapi%20applications%20on%20Kubernetes%20and%20Red%20Hat%20OpenShift" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F09%2Fcontainerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift%2F&amp;#38;linkname=Containerize%20and%20deploy%20Strapi%20applications%20on%20Kubernetes%20and%20Red%20Hat%20OpenShift" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F09%2Fcontainerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift%2F&amp;#38;linkname=Containerize%20and%20deploy%20Strapi%20applications%20on%20Kubernetes%20and%20Red%20Hat%20OpenShift" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F09%2Fcontainerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift%2F&amp;#38;linkname=Containerize%20and%20deploy%20Strapi%20applications%20on%20Kubernetes%20and%20Red%20Hat%20OpenShift" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F09%2Fcontainerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift%2F&amp;#38;linkname=Containerize%20and%20deploy%20Strapi%20applications%20on%20Kubernetes%20and%20Red%20Hat%20OpenShift" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F09%2Fcontainerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift%2F&amp;#38;linkname=Containerize%20and%20deploy%20Strapi%20applications%20on%20Kubernetes%20and%20Red%20Hat%20OpenShift" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F09%2Fcontainerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift%2F&amp;#038;title=Containerize%20and%20deploy%20Strapi%20applications%20on%20Kubernetes%20and%20Red%20Hat%20OpenShift" data-a2a-url="https://developers.redhat.com/blog/2021/04/09/containerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift/" data-a2a-title="Containerize and deploy Strapi applications on Kubernetes and Red Hat OpenShift"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/09/containerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift/"&gt;Containerize and deploy Strapi applications on Kubernetes and Red Hat OpenShift&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/LW4jocGRXEk" height="1" width="1" alt=""/&gt;</content><summary type="html">&lt;p&gt;Strapi is the leading open-source headless content management system (CMS). It’s 100% JavaScript, fully customizable, and takes a developer-first approach. Strapi provides you with an interface to create and manage all the resources for your website. You can then build a front end to connect to your Strapi API with your favorite tools and frameworks. [&amp;#8230;]&lt;/p&gt; &lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/09/containerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift/"&gt;Containerize and deploy Strapi applications on Kubernetes and Red Hat OpenShift&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;</summary><wfw:commentRss xmlns:wfw="http://wellformedweb.org/CommentAPI/">https://developers.redhat.com/blog/2021/04/09/containerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift/feed/</wfw:commentRss><slash:comments xmlns:slash="http://purl.org/rss/1.0/modules/slash/">0</slash:comments><post-id xmlns="com-wordpress:feed-additions:1">874347</post-id><dc:creator>Joel Lord</dc:creator><dc:date>2021-04-09T07:00:16Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2021/04/09/containerize-and-deploy-strapi-applications-on-kubernetes-and-red-hat-openshift/</feedburner:origLink></entry><entry><title>What’s happening in the Node.js community</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/QDm6YjHifkE/" /><category term="JavaScript" /><category term="Node.js" /><category term="Open source" /><category term="Node.js Next 10 Survey" /><category term="Node.js package maintenance" /><category term="Node.js runtime features" /><author><name>Bethany Griggs</name></author><id>https://developers.redhat.com/blog/?p=879727</id><updated>2021-04-08T07:00:27Z</updated><published>2021-04-08T07:00:27Z</published><content type="html">&lt;p&gt;Curious about what’s going on in the &lt;a target="_blank" rel="nofollow" href="/topics/nodejs/"&gt;Node.js&lt;/a&gt; community?&lt;/p&gt; &lt;p&gt;Node.js 16 will be released in April 2021 and promoted to long-term support in October 2021. We’re also rapidly approaching the end-of-life date for Node.js 10. After April 2021, there will be no further patches or security fixes made available for the Node.js 10 release line. If you haven’t already, you should plan to upgrade to Node.js 12 or Node.js 14 as soon as possible. See the &lt;a href="https://github.com/nodejs/release#release-schedule"&gt;Node.js release schedule&lt;/a&gt; in Figure 1.&lt;/p&gt; &lt;p&gt;&lt;img class="wp-image-879737 size-large aligncenter" src="https://developers.redhat.com/blog/wp-content/uploads/2021/03/Screenshot-2021-03-09-at-11.23.48-e1615289135331-1024x532.png" alt="Node.js release timeline spanning October 2020 to January 2023." width="640" height="333" srcset="https://developers.redhat.com/blog/wp-content/uploads/2021/03/Screenshot-2021-03-09-at-11.23.48-e1615289135331-1024x532.png 1024w, https://developers.redhat.com/blog/wp-content/uploads/2021/03/Screenshot-2021-03-09-at-11.23.48-e1615289135331-300x156.png 300w, https://developers.redhat.com/blog/wp-content/uploads/2021/03/Screenshot-2021-03-09-at-11.23.48-e1615289135331-768x399.png 768w" sizes="(max-width: 640px) 100vw, 640px" /&gt;&lt;br /&gt; Figure 1: An overview of the Node.js release timeline.&lt;/p&gt; &lt;h2&gt;New features in Node.js 15&lt;/h2&gt; &lt;p&gt;The “current” release line, Node.js 15, picks up the new features that are contributed to the runtime first. Features now available in Node.js 15 include:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://github.com/nodejs/node/pull/36729"&gt;&lt;code&gt;crypto.randomUUID()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://github.com/nodejs/node/pull/37179"&gt;&lt;code&gt;fsPromises.watch()&lt;/code&gt;&lt;/a&gt;, an alternative version of &lt;code&gt;fs.watch()&lt;/code&gt; that returns an &lt;code&gt;AsyncIterator&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://github.com/nodejs/node/pull/37155"&gt;New &lt;code&gt;perf_hooks.createHistogram()&lt;/code&gt; API&lt;/a&gt; for creating histogram instances that allow user recording&lt;/li&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://github.com/nodejs/node/pull/37117"&gt;npm 7.5&lt;/a&gt;, including the new &lt;code&gt;npm diff&lt;/code&gt; command&lt;/li&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://github.com/nodejs/node/pull/37362"&gt;Support for source maps&lt;/a&gt; has graduated from experimental status to stable (proposed by Benjamin Coe)&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;Hot topics in the Node.js community&lt;/h2&gt; &lt;p&gt;The following issues have sparked discussion in the Node.js community recently:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://github.com/nodejs/node/issues/37309"&gt;Work progressing toward producing native Node.js binaries for Apple Silicon&lt;/a&gt;, to be distributed as a single “fat” (multi-architecture) binary for macOS&lt;/li&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://github.com/nodejs/node/issues/19393#"&gt;Renewed discussion around including &lt;code&gt;fetch()&lt;/code&gt; or a &lt;code&gt;fetch()&lt;/code&gt;-like API in Node.js core&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://github.com/nodejs/node/issues/35286#"&gt;A proposal to promote the experimental APIs &lt;code&gt;AsyncResource&lt;/code&gt; and &lt;code&gt;AsyncLocalStorage&lt;/code&gt; to stable status&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt; The Node.js package maintenance ecosystem&lt;/h2&gt; &lt;p&gt;The Node.js Package Maintenance Working Group aims to help maintainers in a number of ways. Two active efforts are:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;strong&gt;Encouraging the publishing of package support information&lt;/strong&gt;: Publishing package support information helps maintainers set expectations in terms of supported Node.js versions, general support availability, and the backing behind a given package. The Working Group has defined the recommended metadata in &lt;a target="_blank" rel="nofollow" href="https://github.com/nodejs/package-maintenance/blob/main/docs/PACKAGE-SUPPORT.md"&gt;&lt;code&gt;PACKAGE-SUPPORT.md&lt;/code&gt;&lt;/a&gt;. New this month: The addition of a &lt;code&gt;create&lt;/code&gt; command to the &lt;a target="_blank" rel="nofollow" href="https://github.com/pkgjs/support"&gt;support&lt;/a&gt; tool, which makes it easier for maintainers to add this metadata to their packages. &lt;code&gt;npx @pkgjs/support create&lt;/code&gt; will guide you through adding the recommended metadata to your package. The &lt;a target="_blank" rel="nofollow" href="https://github.com/nodeshift/nodeshift"&gt;Nodeshift project&lt;/a&gt; recently added package support information to our modules. You can read more about our experience in &lt;a target="_blank" rel="nofollow" href="/blog/2021/02/10/add-standardized-support-information-to-your-node-js-modules"&gt;this article&lt;/a&gt;.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;The wiby testing tool&lt;/strong&gt;: The Working Group continues to develop wiby (“Will I break you?”). Still in early development, this tool helps package maintainers test whether changes in their packages break other packages that depend on them. If you’re interested in module testing or you’re a module maintainer wanting to test the impact of your changes on your downstream dependents, you can watch a &lt;a target="_blank" rel="nofollow" href="https://youtu.be/m4SMPUshtzY?t=47"&gt;demo&lt;/a&gt; and/or follow the progress in the &lt;a target="_blank" rel="nofollow" href="https://github.com/pkgjs/wiby"&gt;GitHub repository&lt;/a&gt;.&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;The next 10 years of Node.js&lt;/h2&gt; &lt;p&gt;The Node.js project is documenting what we think is important to make the next 10 years of Node.js as successful as the first 10 years. The &lt;a target="_blank" rel="nofollow" href="https://github.com/nodejs/next-10"&gt;Next-10&lt;/a&gt; effort is focused on defining the project’s technical values and constituencies to set the foundation for future discussions. We’ve had many conversations and documented our initial thoughts, but now we need your help. The project has launched a survey to confirm that these values and constituencies align with our users&amp;#8217; needs. You can help guide the future of Node.js by taking part in the &lt;a target="_blank" rel="nofollow" href="https://www.surveymonkey.com/r/8PFGKV5"&gt;survey&lt;/a&gt;.&lt;/p&gt; &lt;h2&gt;Upcoming virtual events&lt;/h2&gt; &lt;p&gt;Although we’ve been unable to meet in person over the past year, the Node.js community is still getting together at virtual events. Upcoming events include:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://openjsf.org/openjs-world-2021/"&gt;OpenJS World&lt;/a&gt; (June 2, 2021)&lt;/li&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://www.nodeconfremote.com/"&gt;NodeConf Remote&lt;/a&gt; (October 18-21, 2021)&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;Stay up to date on Node.js&lt;/h2&gt; &lt;ul&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="/topics/nodejs"&gt;Node.js on Red Hat Developer&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://developer.ibm.com/languages/node-js/"&gt;Node.js on IBM Developer&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a target="_blank" rel="nofollow" href="https://nodejs.org/en/blog/"&gt;The Node.js project blog&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fwhats-happening-in-the-node-js-community%2F&amp;#38;linkname=What%E2%80%99s%20happening%20in%20the%20Node.js%20community" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fwhats-happening-in-the-node-js-community%2F&amp;#38;linkname=What%E2%80%99s%20happening%20in%20the%20Node.js%20community" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fwhats-happening-in-the-node-js-community%2F&amp;#38;linkname=What%E2%80%99s%20happening%20in%20the%20Node.js%20community" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fwhats-happening-in-the-node-js-community%2F&amp;#38;linkname=What%E2%80%99s%20happening%20in%20the%20Node.js%20community" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fwhats-happening-in-the-node-js-community%2F&amp;#38;linkname=What%E2%80%99s%20happening%20in%20the%20Node.js%20community" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fwhats-happening-in-the-node-js-community%2F&amp;#38;linkname=What%E2%80%99s%20happening%20in%20the%20Node.js%20community" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fwhats-happening-in-the-node-js-community%2F&amp;#38;linkname=What%E2%80%99s%20happening%20in%20the%20Node.js%20community" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fwhats-happening-in-the-node-js-community%2F&amp;#038;title=What%E2%80%99s%20happening%20in%20the%20Node.js%20community" data-a2a-url="https://developers.redhat.com/blog/2021/04/08/whats-happening-in-the-node-js-community/" data-a2a-title="What’s happening in the Node.js community"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/08/whats-happening-in-the-node-js-community/"&gt;What&amp;#8217;s happening in the Node.js community&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/QDm6YjHifkE" height="1" width="1" alt=""/&gt;</content><summary type="html">&lt;p&gt;Curious about what’s going on in the Node.js community? Node.js 16 will be released in April 2021 and promoted to long-term support in October 2021. We’re also rapidly approaching the end-of-life date for Node.js 10. After April 2021, there will be no further patches or security fixes made available for the Node.js 10 release line. [&amp;#8230;]&lt;/p&gt; &lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/08/whats-happening-in-the-node-js-community/"&gt;What&amp;#8217;s happening in the Node.js community&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;</summary><wfw:commentRss xmlns:wfw="http://wellformedweb.org/CommentAPI/">https://developers.redhat.com/blog/2021/04/08/whats-happening-in-the-node-js-community/feed/</wfw:commentRss><slash:comments xmlns:slash="http://purl.org/rss/1.0/modules/slash/">0</slash:comments><post-id xmlns="com-wordpress:feed-additions:1">879727</post-id><dc:creator>Bethany Griggs</dc:creator><dc:date>2021-04-08T07:00:27Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2021/04/08/whats-happening-in-the-node-js-community/</feedburner:origLink></entry><entry><title>Build even faster Quarkus applications with fast-jar</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/l3G5vq2brYE/" /><category term="Containers" /><category term="Java" /><category term="Kubernetes" /><category term="Quarkus" /><category term="cloud native java" /><category term="fast-jar" /><category term="Java performance" /><author><name>Daniel Oh</name></author><id>https://developers.redhat.com/blog/?p=884257</id><updated>2021-04-08T07:00:05Z</updated><published>2021-04-08T07:00:05Z</published><content type="html">&lt;p&gt;&lt;a target="_blank" rel="nofollow" href="/products/quarkus/getting-started"&gt;Quarkus&lt;/a&gt; is already fast, but what if you could make &lt;a target="_blank" rel="nofollow" href="/blog/2021/02/11/enhancing-the-development-loop-with-quarkus-remote-development/"&gt;inner loop development&lt;/a&gt; with the supersonic, subatomic &lt;a target="_blank" rel="nofollow" href="/topics/enterprise-java"&gt;Java&lt;/a&gt; framework even faster? Quarkus 1.5 introduced &lt;code&gt;fast-jar&lt;/code&gt;, a new packaging format that supports faster startup times. Starting in Quarkus 1.12, this great feature became the default packaging format for Quarkus applications. This article introduces you to the &lt;code&gt;fast-jar&lt;/code&gt; format and how it works.&lt;/p&gt; &lt;p style="padding-left: 40px;"&gt;&lt;b&gt;Note&lt;/b&gt;: The &lt;a target="_blank" rel="nofollow" href="https://www.jrebel.com/resources/java-developer-productivity-report-2021"&gt;ninth annual global Java developer productivity report&lt;/a&gt; found that more developers are implementing business applications with &lt;a target="_blank" rel="nofollow" href="/products/quarkus/getting-started"&gt;Quarkus&lt;/a&gt;. Quarkus&amp;#8217;s support for live coding with fast startup and response times lets developers focus more on business logic implementations rather than wasting time on jobs such as recompiling and redeploying code and continuously restarting the runtime environment.&lt;/p&gt; &lt;h2&gt;The custom class loader&lt;/h2&gt; &lt;p&gt;To understand &lt;code&gt;fast-jar&lt;/code&gt;&amp;#8216;s secret solution, you need to understand the purpose of the Java class loader and what it processes when a Java application starts up. The Java class loader dynamically loads Java classes into the Java Virtual Machine (JVM) in a Java Runtime Environment (JRE). The Java class loader handles these functions so that the Java runtime doesn&amp;#8217;t need to know where the files and file systems are. Unfortunately, the class loader loads slower for Java applications with more dependencies. The reason is that the class loader typically takes the O(n) Big O notation on the number of Java application dependencies.&lt;/p&gt; &lt;p&gt;Quarkus&amp;#8217;s &lt;code&gt;fast-jar&lt;/code&gt; format solves this problem! When you create an application using the &lt;code&gt;fast-jar&lt;/code&gt; format, Quarkus uses a custom &lt;code&gt;ClassLoader&lt;/code&gt; that already knows the entire classpath when the application is built. The &lt;code&gt;ClassLoader&lt;/code&gt; indexes the location of classes and resources that are written at build time, and the location is read at startup time.&lt;/p&gt; &lt;p&gt;By following the next steps, you can learn for yourself the differences between the legacy JAR format and the new &lt;code&gt;fast-jar&lt;/code&gt; format.&lt;/p&gt; &lt;h2&gt;Step 1: Create two Quarkus projects with multiple extensions&lt;/h2&gt; &lt;p&gt;First, use a Maven plugin to scaffold a new project based on Quarkus 1.11.6.Final, which uses the legacy JAR packaging format:&lt;/p&gt; &lt;pre&gt;$ mvn io.quarkus:quarkus-maven-plugin:1.11.6.Final:create \     -DprojectGroupId=org.acme \    -DprojectArtifactId=getting-legacyjar-started \    -DclassName="org.acme.getting.started.GreetingResource" \    -Dextensions="infinispan-client,rest-client,openshift, resteasy-jackson" \    -Dpath="/hello" &lt;/pre&gt; &lt;p&gt;This command generates a &lt;code&gt;getting-legacyjar-started&lt;/code&gt; directory that pulls down &lt;code&gt;infinispan-client&lt;/code&gt;, &lt;code&gt;rest-client&lt;/code&gt;, &lt;code&gt;openshift&lt;/code&gt;, and &lt;code&gt;resteasy-jackson&lt;/code&gt; extensions into the new Quarkus project.&lt;/p&gt; &lt;p&gt;Next, create another project based on Quarkus 1.12.2.Final, with the new &lt;code&gt;fast-jar&lt;/code&gt; format:&lt;/p&gt; &lt;pre&gt;$ mvn io.quarkus:quarkus-maven-plugin:1.12.2.Final:create \    -DprojectGroupId=org.acme \    -DprojectArtifactId=getting-fastjar-started \   -DclassName="org.acme.getting.started.GreetingResource" \    -Dextensions="infinispan-client,rest-client,openshift, resteasy-jackson" \    -Dpath="/hello"&lt;/pre&gt; &lt;p&gt;This command generates a &lt;code&gt;getting-fastjar-started&lt;/code&gt; directory that includes the same extensions, but uses the &lt;code&gt;fast-jar&lt;/code&gt; packaging format.&lt;/p&gt; &lt;h2&gt;Step 2: Package the applications to compare formats&lt;/h2&gt; &lt;p&gt;Next, we&amp;#8217;ll package the applications to compare how differently Quarkus generates classes and resources using the legacy and &lt;code&gt;fast-jar&lt;/code&gt; packaging formats. Package the legacy JAR application first, using the following Maven command:&lt;/p&gt; &lt;pre&gt;$ mvn package -f getting-legacyjar-started&lt;/pre&gt; &lt;p&gt;The output should end with &lt;code&gt;BUILD SUCCESS&lt;/code&gt;. Then, the runnable JAR will be packaged directly in the target directory where other resources such as &lt;code&gt;lib&lt;/code&gt; and &lt;code&gt;classes&lt;/code&gt; are also created:&lt;/p&gt; &lt;pre&gt;$ ls -al getting-legacyjar-started/target             ... drwxr-xr-x   5 danieloh  staff     160 Mar 15 00:31 classes drwxr-xr-x  67 danieloh  staff    2144 Mar 15 08:35 lib -rw-r--r--   1 danieloh  staff  249897 Mar 15 08:35 getting-legacyjar-started-1.0.0-SNAPSHOT-runner.jar ... &lt;/pre&gt; &lt;p&gt;Now, package the &lt;code&gt;fast-jar&lt;/code&gt; application:&lt;/p&gt; &lt;pre&gt;$ mvn package -f getting-fastjar-started&lt;/pre&gt; &lt;p&gt;Once the build completes, you will find a new self-contained &lt;code&gt;quarkus-app&lt;/code&gt; folder in the target directory:&lt;/p&gt; &lt;pre&gt;$ ls -al getting-fastjar-started/target/quarkus-app         ... drwxr-xr-x  3 danieloh  staff   96 Mar 15 14:25 app drwxr-xr-x  4 danieloh  staff  128 Mar 15 14:25 lib drwxr-xr-x  4 danieloh  staff  128 Mar 15 14:25 quarkus -rw-r--r--  1 danieloh  staff  621 Mar 15 14:26 quarkus-run.jar ...&lt;/pre&gt; &lt;h2&gt;Step 3: Compare the application startup times&lt;/h2&gt; &lt;p&gt;Now, let’s run both applications with the packaged JAR file to see how quickly each one starts. Run the &lt;code&gt;legacy-jar&lt;/code&gt; application first:&lt;/p&gt; &lt;pre&gt;$ java -jar getting-legacyjar-started/target/getting-legacyjar-started-1.0.0-SNAPSHOT-runner.jar&lt;/pre&gt; &lt;p&gt;Once the application starts, you will see 1.276 seconds as the boot time, as shown below (the elapsed time could be a bit different depending on your environment):&lt;/p&gt; &lt;pre&gt;INFO  [io.quarkus] (main) getting-legacyjar-started 1.0.0-SNAPSHOT on JVM (powered by Quarkus 1.11.6.Final) started in 1.276s. Listening on: http://0.0.0.0:8080 &lt;/pre&gt; &lt;p&gt;To do a quick sanity test, you can access the RESTful API using a &lt;code&gt;curl&lt;/code&gt; command. Then, you will see the following output:&lt;/p&gt; &lt;pre&gt;$ curl &lt;a target="_blank" rel="nofollow" href="http://localhost:8080/hello"&gt;http://localhost:8080/hello&lt;/a&gt; Hello RESTEasy &lt;/pre&gt; &lt;p&gt;Stop the development mode by pressing &lt;b&gt;CTRL + C&lt;/b&gt; on your keyboard. Then, run the &lt;code&gt;fast-jar&lt;/code&gt; application:&lt;/p&gt; &lt;pre&gt;$ java -jar getting-fastjar-started/target/quarkus-app/quarkus-run.jar &lt;/pre&gt; &lt;p&gt;Once the application starts, you will see 0.909 seconds as the boot time, as shown below (the elapsed time could be a bit different depending on your environment):&lt;/p&gt; &lt;pre&gt;INFO  [io.quarkus] (main) getting-fastjar-started 1.0.0-SNAPSHOT on JVM (powered by Quarkus 1.12.2.Final) started in 0.909s. Listening on: http://0.0.0.0:8080 &lt;/pre&gt; &lt;p&gt;The new &lt;code&gt;fast-jar&lt;/code&gt; custom &lt;code&gt;ClassLoader&lt;/code&gt; delivers a startup time that is 360 milliseconds faster than the legacy JAR application. When you access the endpoint (&lt;code&gt; /hello&lt;/code&gt;), you will have the same output (&lt;code&gt;Hello RESTEasy&lt;/code&gt;) as the legacy JAR application.&lt;/p&gt; &lt;p&gt;The &lt;code&gt;fast-jar&lt;/code&gt; format allows the default &lt;code&gt;ClassLoader&lt;/code&gt; to keep a minimum number of JARs open for fitting in a container-layering architecture. It also doesn’t need to look up the entire classpath for missing resources in known directories such as &lt;code&gt;META-INF/services&lt;/code&gt;.&lt;/p&gt; &lt;h2&gt;Conclusion&lt;/h2&gt; &lt;p&gt;In this article, you learned why applications packaged with &lt;code&gt;fast-jar&lt;/code&gt; are faster than those packaged with Quarkus&amp;#8217;s legacy JAR format. We also did a quick exercise so you could compare the startup times for yourself.&lt;/p&gt; &lt;p&gt;While we didn&amp;#8217;t explore this option, you might have almost the same startup time if you run both applications in development mode because development mode doesn’t use a JAR file for packaging. This enhancement is intended for a production environment.&lt;/p&gt; &lt;p&gt;The &lt;code&gt;fast-jar&lt;/code&gt; format is useful for applications with many extensions and dependencies, and the advantages are even greater for applications deployed to a &lt;a target="_blank" rel="nofollow" href="/topics/containers"&gt;container&lt;/a&gt; environment like &lt;a target="_blank" rel="nofollow" href="/products/openshift/overview"&gt;Red Hat OpenShift&lt;/a&gt;. Visit the Quarkus landing page to &lt;a target="_blank" rel="nofollow" href="/products/quarkus/getting-started"&gt;get started with your next Quarkus journey&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fbuild-even-faster-quarkus-applications-with-fast-jar%2F&amp;#38;linkname=Build%20even%20faster%20Quarkus%20applications%20with%20fast-jar" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fbuild-even-faster-quarkus-applications-with-fast-jar%2F&amp;#38;linkname=Build%20even%20faster%20Quarkus%20applications%20with%20fast-jar" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fbuild-even-faster-quarkus-applications-with-fast-jar%2F&amp;#38;linkname=Build%20even%20faster%20Quarkus%20applications%20with%20fast-jar" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fbuild-even-faster-quarkus-applications-with-fast-jar%2F&amp;#38;linkname=Build%20even%20faster%20Quarkus%20applications%20with%20fast-jar" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fbuild-even-faster-quarkus-applications-with-fast-jar%2F&amp;#38;linkname=Build%20even%20faster%20Quarkus%20applications%20with%20fast-jar" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fbuild-even-faster-quarkus-applications-with-fast-jar%2F&amp;#38;linkname=Build%20even%20faster%20Quarkus%20applications%20with%20fast-jar" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fbuild-even-faster-quarkus-applications-with-fast-jar%2F&amp;#38;linkname=Build%20even%20faster%20Quarkus%20applications%20with%20fast-jar" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2021%2F04%2F08%2Fbuild-even-faster-quarkus-applications-with-fast-jar%2F&amp;#038;title=Build%20even%20faster%20Quarkus%20applications%20with%20fast-jar" data-a2a-url="https://developers.redhat.com/blog/2021/04/08/build-even-faster-quarkus-applications-with-fast-jar/" data-a2a-title="Build even faster Quarkus applications with fast-jar"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/08/build-even-faster-quarkus-applications-with-fast-jar/"&gt;Build even faster Quarkus applications with fast-jar&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/l3G5vq2brYE" height="1" width="1" alt=""/&gt;</content><summary type="html">&lt;p&gt;Quarkus is already fast, but what if you could make inner loop development with the supersonic, subatomic Java framework even faster? Quarkus 1.5 introduced fast-jar, a new packaging format that supports faster startup times. Starting in Quarkus 1.12, this great feature became the default packaging format for Quarkus applications. This article introduces you to the [&amp;#8230;]&lt;/p&gt; &lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2021/04/08/build-even-faster-quarkus-applications-with-fast-jar/"&gt;Build even faster Quarkus applications with fast-jar&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;Red Hat Developer&lt;/a&gt;.&lt;/p&gt;</summary><wfw:commentRss xmlns:wfw="http://wellformedweb.org/CommentAPI/">https://developers.redhat.com/blog/2021/04/08/build-even-faster-quarkus-applications-with-fast-jar/feed/</wfw:commentRss><slash:comments xmlns:slash="http://purl.org/rss/1.0/modules/slash/">0</slash:comments><post-id xmlns="com-wordpress:feed-additions:1">884257</post-id><dc:creator>Daniel Oh</dc:creator><dc:date>2021-04-08T07:00:05Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2021/04/08/build-even-faster-quarkus-applications-with-fast-jar/</feedburner:origLink></entry><entry><title type="html">Headless eCommerce - Common architectural elements</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/1vfsy29GmIk/headless-ecommerce-common-architectural-elements.html" /><author><name>Eric D. Schabell</name></author><id>http://feedproxy.google.com/~r/schabell/jboss/~3/YHEbyyin6ig/headless-ecommerce-common-architectural-elements.html</id><updated>2021-04-08T05:00:00Z</updated><content type="html">Part 2 - Common architectural elements  In our  from this series we introduced a use case around headless e-commerce for retail stores. The process was laid out how we've approached the use case and how portfolio solutions are the base for researching a generic architectural blueprint.  The only thing left to cover was the order in which you'll be led through the blueprint details. This article starts the real journey at the very top, with a generic architecture from which we'll discuss the common architectural elements one by one. This will start our journey into the logical elements that make up the headless e-commerce architecture blueprint. BLUEPRINTS REVIEW As mentioned before, the architectural details covered here are base on real solutions using open source technologies. The example scenario presented here is a generic common blueprint that was uncovered researching those solutions. It's our intent to provide a blueprint that provides guidance and not deep technical details. This section covers the visual representations as presented, but it's expected that they'll be evolving based on future research. There are many ways to represent each element in this architectural blueprint, but we've chosen a format that we hope makes it easy to absorb. Feel free to post comments at the bottom of this post, or  with your feedback. Now let's take a look at the details in this blueprint and outline the solution. FROM SPECIFIC TO GENERIC Before diving in to the common elements, it might be nice to understand that this is not a catch all for every possible supply chain integration solution. It's a collection of identified elements that we've uncovered in multiple customer implementations. These elements presented here are then the generic common architectural elements that we've identified and collected in to the generic architectural blueprint.  It's our intent to provide a blueprint for guidance and not deep technical details. You're smart enough to figure out wiring integration points in your own architectures. You're capable of slotting in the technologies and components you've committed to in the past where applicable.  It's our job here to describe the architectural blueprint generic components and outline a few specific cases with visual diagrams so that you're able to make the right decisions from the start of your own projects. Another challenge has been how to visually represent the architectural blueprint. There are many ways to represent each element, but we've chosen some icons, text and colours that we hope are going to make it all easy to absorb.  Now let's take a quick tour of the generic architecture and outline the common elements uncovered in my research. DEVELOPER As you notice from the beginning, this logical diagram starts with a focus on cloud native development and the developer. For those that have looked at already, you'll notice the developer is central to delivering the components used in a headless e-commerce solution. For this blueprint the researched customers provided, as you could image, a diverse set of developer elements to choose from. We've chosen to group some and selected the elements shown in the image. The developer IDE is pretty universal, the tooling that the developer is coding in. Some form of source code management repository is used, but all research pointed to a Git-based repository. The remaining elements encompass as selection of the enterprise frameworks encountered, but are not by any means definitive. We captured integration based on Camel and Fuse, and often some collection of Java runtimes. While not illustrated as a distinct component, some form of dependency management was employed. In all researched cases it was an Apache Maven repository, but we've chosen to leave them out of this logical overview for the reasons of simplicity. CONTAINER PLATFORM CI / CD A container platform hosting the continuous integration (CI) and continuous development (CD) tooling is the main element in this group. The CI/CD platform can be any number of available tools, but as a concrete example, many implementations are using Jenkins tooling. Here you again see the SCM repertory as an element just like you saw in the previous developer section. This represents the connection between developer and collecting project artefacts for use in the container CI/CD platform for testing, tagging, and rolling out to various infrastructure environments in a retail organisation. PRESENTATION TIER This tier is used to collect the elements used for front end presentation for the headless e-commerce suite. This can be any number of applications used by customers to interact with the e-commerce platform, but also third parties allowed to interact with the platform.  All of these applications can be found in the generic element web applications, with a secondary element called frontend microservices that represent integration points for applications into the headless e-commerce platform. CONTAINER PLATFORM The bulk of the headless e-commerce platform can be found here in the container platform where a collection of services and communication tools are provided independent elements of deployment that support a cohesive whole. A core element of any integration platform is to provide some form of messaging to ensure that both communication and transformation of that communication is possible across the headless e-commerce platform.  Both integration microservices and integration data microservices are elements that consistently provide access to backend organisational systems, data sources, and other aspects of the retail organisation such as real-time stock control solutions or the retail data framework. In other articles, we'll cover these two architecture blueprints and you can search for them on this site for more details. To support customer interaction throughout the headless e-commerce platform there are collections of microservices, each focusing on one aspect of the customer interaction.  These are very generic descriptions as each retail organisation can determine what they consider core services. The first group is referred to as customer brand adapter microservices that ensure specific focus on creating a brand connection with the customer on your platform.  Another set of services are called the customer composite microservices that focus on coarser grained interactions with customers on their shopping journey in your online store. The basic set of services are called the customer core microservices and provide the basic interactions with customers for all parts of the e-commerce platform.  A final element is a collection of customer anti-corruption microservices that is a grouping related to the processes around payments for customers that might need access to processes around anti-money laundering or other fraud related detection mechanisms. There are often legal aspects to your specific country that effects what you need to comply with regarding corruption detection, so that's left to the reader to pursue with their retail organisations legal department. INFRASTRUCTURE SERVICES These elements in the common architecture were pretty consistent across all of the Headless eCommerce solutions examined. These tended to be core elements setup in the retail organisations central location with the ability to control communication and overall integration for the complete architecture. A centralised integration element here is outside of the container platform integration elements discussed in the previous section and has a focus on more legacy integration aspects of an existing retail organisation.  The API management element here is for access to the headless e-commerce platform both by customers and also for third party connectivity to anything that your organisation might want to expose for use.  It goes without saying (almost), that a single-sign-on (SSO) server is essential for tying in the organisational tooling for authorisation and authentication to make use of components in the architecture. STORAGE SERVICES The storage services uncovered in this solution space was a fairly narrow with traditional relational database management system storage element and the open source Ceph storage solution.  There was not a lot of need for diversity in these services as the solution is squarely focused on the development and delivery pipeline for the e-commerce elements. WHAT'S NEXT This was just a short overview of the common generic elements that make up our architecture blueprint for the headless e-commerce imaging use case.  An overview of this series on the headless e-commerce portfolio architecture blueprint can be found here: 1. 2. 3. Example headless architectures Catch up on any articles you missed by following one of the links above. Next in this series, taking a look at an example headless architecture to provide you with a map for your own e-commerce solution. (Article co-authored by , Chief Architect Retail, Red Hat)&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/1vfsy29GmIk" height="1" width="1" alt=""/&gt;</content><dc:creator>Eric D. Schabell</dc:creator><feedburner:origLink>http://feedproxy.google.com/~r/schabell/jboss/~3/YHEbyyin6ig/headless-ecommerce-common-architectural-elements.html</feedburner:origLink></entry><entry><title type="html">Design Tools Highlights on Kogito and Business Central, April 2021</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/Ike7gzG_JqA/design-tools-highlights-on-kogito-and-business-central-april-2021.html" /><author><name>Eder Ignatowicz</name></author><id>https://blog.kie.org/2021/04/design-tools-highlights-on-kogito-and-business-central-april-2021.html</id><updated>2021-04-08T05:00:00Z</updated><content type="html">In the last months, the Design Tools Team released many cool new features on and . This post will do a quick overview of those. I hope you enjoy it! DASHBUILDER PROGRAMMATIC LAYOUT API Until the launch of this new API, the only way to create dashboards on Dashbuilder was via drag and drop on Layout Editor. Now, users can create their Dashboards, pages, components, and data sets directly on Java. Here is an example of the usage of such API: import org.dashbuilder.dataset.* import org.dashbuilder.displayer.DisplayerSettings; import org.dashbuilder.dsl.factory.component.ComponentFactory; import org.dashbuilder.dsl.factory.dashboard.DashboardFactory; import org.dashbuilder.dsl.model.* import org.dashbuilder.dsl.serialization.* import static java.util.Arrays.asList; import static org.dashbuilder.dataset.DataSetFactory.newDataSetBuilder; import static org.dashbuilder.displayer.DisplayerSettingsFactory.newBarChartSettings; import static org.dashbuilder.dsl.factory.navigation.NavigationFactory.*; import static org.dashbuilder.dsl.factory.page.PageFactory.*; public class SimpleDashboard { public static void main(String[] args) { DataSet dataSet = newDataSetBuilder().column("Country", ColumnType.LABEL) .column("Population", ColumnType.NUMBER) .row("Brazil", "211") .row("United States", "328") .row("Cuba", "11") .row("India", "1366") .row("China", "1398") .buildDataSet(); DisplayerSettings populationBar = newBarChartSettings().subType_Column() .width(800) .height(600) .dataset(dataSet) .column("Country") .column("Population") .buildSettings(); Page page = page("Countries Population", row("&lt;h3&gt; Countries Population &lt;/h3&gt;"), row(ComponentFactory.displayer(populationBar))); Navigation navigation = navigation(group("Countries Information", item(page))); Dashboard populationDashboard = DashboardFactory.dashboard(asList(page), navigation); DashboardExporter.get().export(populationDashboard, "/path/to/export.zip", ExportType.ZIP); } } hosted with ❤ by It will generate the following dashboard: We also introduced a “dev mode” to Dashbuilder Runtime, which automatically updates the Dashbuilder Runtime while developing and exporting the ZIP. Soon, we will publish a blog post with more details about this new feature, but meanwhile, a sneak peek of authoring workflow using it: DMN EDITOR – ENHANCED CODE-COMPLETION FOR LITERAL FEEL EXPRESSIONS Context-aware code completion is one of the most important features an IDE can provide to speed up coding, reduce typos and avoid other common mistakes. On Kogito Tooling 0.9.0 release, we introduced enhanced code-completion for Literal FEEL expressions. Check out this video: See this full for details. BPMN EDITOR – READ-ONLY MODE Since October, we also ship our editors as a standalone npm package. One of my favorite features of the standalone is the read-only mode because it is really useful for diagram visualization. Now, this mode is also supported on BPMN. The read-only mode is also used for the visualization of diagrams on our Chrome Extension. WORK ITEM DEFINITION SUPPORT IMPROVEMENTS To evolve our Work Item Definition support on Kogito Tooling BPMN editor, we included on 0.9.0 a lot of improvements in this area, primarily related to a better parsing mechanism and also better compatibility with Business Central. Now, we also search for wids and icons the ‘global’ directory used on BC. DASHBUILDER PROMETHEUS DATA SET PROVIDER Dashbuilder can read data from multiple types of data set sources, including CSV, SQL, ElasticSearch, and Kie Server. Since Business central 7.50.0 Final, we introduced a new type of provider for data sets: Prometheus. Prometheus is the standard for collecting metrics. It has connectors to very well-known systems, such as Kafka and metrics can be easily consumed from third-party systems. Furthermore, Kie Server by default also exports ! See a sample Dashboard based on Prometheus data: For a full description of this new feature, take a look at this . DASHBUILDER KAFKA DATA SET PROVIDER We also recently introduced Dashbuilder support for Kafka data sets. Kafka is the standard event streaming platform for cloud applications and RHPAM/Kogito systems expose metrics using Kafka, so this is the reason why we added Kafka support on Dashbuilder as a data set provider. Soon we will publish a blog post with more details about this new feature. DASHBUILDER TIME SERIES DISPLAYER This new component represents time-series metrics to smoothly support the new Prometheus data-set provider. Now, you can provide a custom dataset or Prometheus metrics and create visualizations of your time series data on a line or area chart using Dashbuilder. See this for more details. GWT 2.9 AND JDK11 UPGRADE After a collective effort involving many people from a lot of different teams, we also did two major upgrades on our codebase, supporting JDK11 compilation and GWT 2.9 on Business Central. This is a huge effort in a sizable codebase, so congrats to everyone involved! OTHER IMPORTANT ISSUES AND IMPROVEMENTS: BPMN: * Move the structure option to the top of the Data Type drop-down * – [BPMN] Open subprocesses in a new editor on BC only * Stunner – Text area for scripts is cropped/shifted * Stunner – Not all illegal characters are removed from Data Object name * : Erase of WID ‘nodes’ types DMN: * Move the structure option to the top of the Data Type drop-down * Allow sorting in guided decision table when clicking the column name SCESIM * Test Scenario does not support nested Enum type attributes * Scenario Simulation type error popup when constraint applied to DMN data type * Display actual test results instead of a generic message * SceSim runner does not display reason for failure THANK YOU TO EVERYONE INVOLVED! I would like to thank everyone involved with this release, from the excellent KIE Tooling Engineers to the lifesavers QEs and the UX people that help us look awesome! The post appeared first on .&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/Ike7gzG_JqA" height="1" width="1" alt=""/&gt;</content><dc:creator>Eder Ignatowicz</dc:creator><feedburner:origLink>https://blog.kie.org/2021/04/design-tools-highlights-on-kogito-and-business-central-april-2021.html</feedburner:origLink></entry></feed>
